<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Index Project - spatial_ubershader
		</title>
		<link rel="preload" as="image" href="../../../assets/images/_docs_background.png">
		<link rel="stylesheet" type="text/css" href="../../../assets/style.css">
	</head>
	<body>
		<div class="scanlines">
		</div>
		<script src="../../../assets/sidebar_injector_module.js">
		</script>
		<center>
			<div class="everything">
				<div class="sidebar">
					<h1>
						Index Project Guide
					</h1>
					<br/>
					<br/>
					<input type="text" class="searchbar" placeholder="Search...">
						<div class="sidebar-content" id="sidebar-content">
						</div>
					</div>
					<div class="main_body">
						<h3>
							Module: spatial_ubershader
						</h3>
						<p class="red-marking">
							Documentation last edited: October 23, 2025 at 14:33 UTC
						</p>
						<div class="lang-select-div">
							<a href="./index.html">
								ENG
							</a>
							<a href="./index_rus.html">
								RUS
							</a>
						</div>
						<h4>
							Description
						</h4>
						<p>
							Okay, so... <code class="gdscript">
								SpatialMaterial
							</code>
							. Sounds like a plan. Sounds like EVERYTHING you'd ever need from a material in 3D. Yeah. Sounds nice. Sounds plausible. But what happens when you use your gigabrain to add an additional shader effect? Oh no, it's falling apart! You have to use <code class="gdscript">
								ShaderMaterial
							</code>
							to make your own effects! And what if you wanna reuse something that <code class="gdscript">
								SpatialMaterial
							</code>
							had? Oh, well, dude, just copypaste it or something, we don't care. I was a little pissed so I made an ultimate spaghetti management system, guess what it is? That's right, that's that module. <code class="gdscript">
								"Ubershader"
							</code>
							is such a clever word, but really, it's all about automizing copypasting of the shader code. You don't have to do this 5-minute-task anymore, I spent ages refining that automized shit. Use it. Please. I beg you. Actually, it doesn't matter, all materials in this project ARE <code class="gdscript">
								UserSpatialUbershader
							</code>
							so you will experience a decent peer pressure to use this one :)<br>
							<br>
							This module has two classes that you really need to know about: <code class="gdscript">
								SpatialUbershader
							</code>
							and <code class="gdscript">
								UserSpatialUbershader
							</code>
							. <code class="gdscript">
								SpatialUbershader
							</code>
							is practically the core logic of this module. This is the ultimate bombastic spaghetti combiner, mixer, manager, whatever the hell it is. However, this class alone isn't providing a user-friendly interface and due to how Godot works... Well, let's just say I was forced to do <code class="gdscript">
								UserSpatialUbershader
							</code>
							. <code class="red-marking">
								This class is NOT written by hand.
							</code>
							It provides export variables and all that fancy shit, but writing it by hand would be a suicide. That's why <code class="gdscript">
								"res://modules/spatial_ubershader/assets/code_generation_scene/code_generator.gd"
							</code>
							exists, an editor script that you can run to update code in <code class="gdscript">
								UserSpatialUbershader
							</code>
							. In other words, <code class="gdscript">
								UserSpatialUbershader
							</code>
							is just a fancier facade to <code class="gdscript">
								SpatialUbershader
							</code>
							, a fucking makeup if you wish. Hides the ugly face behind. We all love fancy lies, aren't we?<br>
							<br>
						</p>
						<h4 style="width: 60%">
							Using the material while being in trenches
						</h4>
						<p>
							<br>
							<img src="../../../assets/images/spatial_ubershader/use0.png" width="400px" onclick="maximizeImage(this)" class="clickable-image">
								<br>
								<img src="../../../assets/images/spatial_ubershader/use1.png" width="400px" onclick="maximizeImage(this)" class="clickable-image">
									<br>
									What you need to understand this material is that it can have multiple effects. Even "albedo" map is an effect too. You just enable effects you need, when you are done: Click <code class="gdscript">
										"Force Update"
									</code>
									, it will update the shader code and paramaters that you can adjust. Each effect has its own designated group that you can extend and assign needed values/textures. Simple as that.<br>
									<br>
								</p>
								<h4 style="width: 60%">
									How to make your own badass effect
								</h4>
								<p>
									<br>
									Listen here, son, it's a very hard and intimidating task... It requires a lot of patience... Actually who am I kidding really? Take a look at <code class="gdscript">
										"res://modules/spatial_ubershader/assets/effects/"
									</code>
									, scroll down the effects, notice some patterns all over the place. This project is pattern-ing hard, you know? Let's take a look at our beloved <code class="gdscript">
										"albedo"
									</code>
									effect.<br>
									<code class="gdscript">
										<br>
										.<br>
										└── albedo<br>
										&emsp;├── config.tres<br>
										&emsp;└── shader.tres<br>
									</code>
									<br>
									All your fancy-wancy shader effects MUST have two files: <code class="gdscript">
										"config.tres"
									</code>
									and <code class="gdscript">
										"shader.tres"
									</code>
									. <code class="gdscript">
										"config.tres"
									</code>
									is just a <code class="gdscript">
										SpatialUbershaderEffectConfig
									</code>
									GODDAMN THIS CLASS NAME IS KILLING ME oh I'm sorry I meant to say this is a config for your effect that is mainly useful to adjust its order priority, all effects are processed in a queue of sorts. <code class="gdscript">
										"shader.tres"
									</code>
									is the shader code for your spatial shader effect.<br>
									<br>
									Shaders aren't just "shaders" in this case, they have some meta-processing stuff that you need to know about. Let's take our beloved albedo shader as an example:<br>
									<code>
										<br>
										shader_type spatial; //__IGNORE_LINE__<br>
										<br>
										// Albedo texture input<br>
										//__ADD_PROPERTY::effect_tex::TEXTURE<br>
										uniform sampler2D effect_tex: hint_albedo;<br>
										<br>
										// Color tint multiplier<br>
										//__ADD_PROPERTY::effect_color::COLOR<br>
										uniform vec4 effect_color: hint_color;<br>
										<br>
										// UV Adjustment Flag Block<br>
										// __ADD_FLAG::effect_uv_tweak<br>
										// __FLAG::effect_uv_tweak<br>
										// Horizontal texture scale<br>
										//__ADD_PROPERTY::effect_UV_scale_x::FLOAT<br>
										uniform float effect_UV_scale_x = 1.0;<br>
										// Vertical texture scale<br>
										//__ADD_PROPERTY::effect_UV_scale_y::FLOAT<br>
										uniform float effect_UV_scale_y = 1.0;<br>
										// Horizontal texture offset<br>
										//__ADD_PROPERTY::effect_UV_offset_x::FLOAT<br>
										uniform float effect_UV_offset_x = 0.0;<br>
										// Vertical texture offset<br>
										//__ADD_PROPERTY::effect_UV_offset_y::FLOAT<br>
										uniform float effect_UV_offset_y = 0.0;<br>
										// __FLAG_END<br>
										<br>
										//__FRAGMENT_SPLIT__<br>
										void fragment()
										{ //__IGNORE_LINE__<br>
										&emsp;// Base UV coordinates<br>
										&emsp;vec2 effect_uv = UV;<br>
										&emsp;<br>
										&emsp;// UV Adjustment Block (conditionally included)<br>
										&emsp;// __FLAG::effect_uv_tweak<br>
										&emsp;effect_uv.x *= effect_UV_scale_x;   // Apply horizontal scale<br>
										&emsp;effect_uv.y *= effect_UV_scale_y;   // Apply vertical scale<br>
										&emsp;effect_uv.x += effect_UV_offset_x;  // Apply horizontal offset<br>
										&emsp;effect_uv.y += effect_UV_offset_y;  // Apply vertical offset<br>
										&emsp;// __FLAG_END<br>
										&emsp;<br>
										&emsp;// Sample texture and apply color tint<br>
										&emsp;vec4 effect_tex_color = texture(effect_tex, effect_uv);<br>
										&emsp;ALBEDO = effect_tex_color.rgb * effect_color.rgb;<br>
										}
										//__IGNORE_LINE__<br>
									</code>
									<br>
									<br>
									So, you might have noticed some of the commentary that doesn't really sound humane. Sounds like a machine went rogue and it's about to murder you. Well, that's what I call meta-processing, yeah. These comments are supposed to let <code class="gdscript">
										SpatialUbershader
									</code>
									know what the fuck it is supposed to do with your damn code. If you just feed it a shader with none of these things - it'll accept islam and refuse to work with you, infidel. Most likely it'll result in a broken generated shader code that won't do anything of value. Luckily for you, I'm here to help while mocking your ass. Here's the list of your damn comments that you MUST KNOW AND REMEMBER BY THE END OF READ.<br>
									<code>
										<br>
										Instead of "name" there can be anything you want, make sure the stars align though.<br>
										<br>
										//__IGNORE_LINE__<br>
										&emsp;Ignores a line. I mean... Woah, surprising? Okay, you need to place that fucker down in lines with "shader_type" and definitions of "void fragment()", "void vertex()" and "void light()", as well as their brackets. Otherwise the system will break. Harshly.<br>
										//__ADD_PROPERTY::name::TEXTURE<br>
										&emsp;Registers a uniform variable as a texture.<br>
										//__ADD_PROPERTY::name::COLOR<br>
										&emsp;Registers a uniform variable as a color.<br>
										//__ADD_PROPERTY::name::FLOAT<br>
										&emsp;Registers a uniform variable as a float.<br>
										&emsp;Damn, these three are so simple, isn't that surprising?<br>
										//__VERTEX_SPLIT__<br>
										&emsp;Tells the damn machine that the next function is gonna be a vertex one and that the code belongs there.<br>
										//__FRAGMENT_SPLIT__<br>
										&emsp;Tells the damn machine that the next function is gonna be a fragment one.<br>
										//__LIGHT_SPLIT__<br>
										&emsp;Tells the damn machine that the next function is gonna be a light one.<br>
										// __ADD_FLAG::name<br>
										&emsp;Adds a new flag for ubershader to process.<br>
										// __FLAG::name<br>
										&emsp;Tells the damn machine that the next lines of code can only be added to the resulting shader if flag is active.<br>
										// __FLAG_END<br>
										&emsp;Tells the damn machine that the flag processing is over so it can keep doing shit as always.<br>
									</code>
									<br>
									<br>
									If you are still feeling confused, I'm suggesting you to do two things:<br>
									&emsp;- Take a look at the existing effects, that trail of corpses can really teach you a lot.<br>
									&emsp;- For more information, please reread.<br>
									<br>
									Have fun.
								</p>
								<h3>
									General Information
								</h3>
								<h4>
									Root directories list
								</h4>
								<p>
									assets, docs, src
								</p>
								<h4>
									Nodes
								</h4>
								<p>
									<a class="a_simple" href="./scripts/spatial_ubershader.html">
										SpatialUbershader
									</a>
									<br>
									<a class="a_simple" href="./scripts/spatial_ubershader_shaders.html">
										SpatialUbershaderShaders
									</a>
								</p>
								<h4>
									Classes
								</h4>
								<p>
									<a class="a_simple" href="./scripts/user_spatial_ubershader.html">
										UserSpatialUbershader
									</a>
								</p>
								<h4>
									Resources
								</h4>
								<p>
									<a class="a_simple" href="./scripts/effect_config.html">
										SpatialUbershaderEffectConfig
									</a>
								</p>
								<h4>
									Other Scripts
								</h4>
								<p>
									<a class="a_simple" href="./scripts/code_generator.html">
										code_generator
									</a>
								</p>
							</div>
						</div>
					</center>
					<script src="../../../assets/code_blocks.js">
					</script>
				</body>
			</html>
