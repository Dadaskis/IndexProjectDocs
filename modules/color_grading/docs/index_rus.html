<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Index Project - color_grading
		</title>
		<link rel="preload" as="image" href="../../../assets/images/docs_background.png">
		<link rel="stylesheet" type="text/css" href="../../../assets/style.css">
	</head>
	<body>
		<div class="scanlines">
		</div>
		<script src="../../../assets/sidebar_injector_module.js">
		</script>
		<center>
			<div class="everything">
				<div class="sidebar">
					<h1>
						Index Project Guide
					</h1>
					<br/>
					<br/>
					<input type="text" class="searchbar" placeholder="Search...">
						<div class="sidebar-content" id="sidebar-content">
						</div>
					</div>
					<div class="main_body">
						<h3>
							Module: color_grading
						</h3>
						<p class="red-marking">
							Documentation last edited: October 22, 2025 at 10:46 UTC
						</p>
						<div class="lang-select-div">
							<a href="./index.html">
								ENG
							</a>
							<a href="./index_rus.html">
								RUS
							</a>
						</div>
						<h4>
							Description
						</h4>
						<p>
							Модуль цветокоррекции, который применяет цветокоррекцию через LUT-текстуру на экране. Имеет несколько удобных функций для работы внутри редактора.<br>
							<br>
							<code>
								Пример использования
							</code>
							<br>
							<code class="gdscript">
								<br>
								ColorGrading.change_LUT("sin_city2")<br>
							</code>
							<br>
							<br>
							<img src="../../../assets/images/color_grading/example0.png" width="400px" onclick="maximizeImage(this)" class="clickable-image">
								<br>
								<img src="../../../assets/images/color_grading/example1.png" width="400px" onclick="maximizeImage(this)" class="clickable-image">
									<br>
									<br>
									Да, это просто как дважды два, тут нечего особо добавить, кроме... Тебе возможно интересно: Как именно сделать свою собственную LUT для цветокоррекции?<br>
									<br>
									Это чистая LUT, которая не влияет на цвета:<br>
									<img src="../../../assets/images/color_grading/clear_LUT.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
										<br>
										Вот более холодная версия этой LUT:<br>
										<img src="../../../assets/images/color_grading/cold_LUT.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
											<br>
											А вот версия этой LUT, которая выделяет красные цвета:<br>
											<img src="../../../assets/images/color_grading/red_LUT.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
												<br>
												<br>
												Как ты видишь, главное в LUT (Look-Up Texture) - это просто массив цветов, который может использоваться рендером игры. Вот пошаговое руководство, как сделать её самостоятельно.<br>
												<br>
												Во-первых, найди место, которое ты хотел бы использовать как "образец". Я предполагаю, что ты будешь делать цветокоррекцию, которая *подходит* под конкретное место, но, в любом случае, просто найди место.<br>
												<img src="../../../assets/images/color_grading/make0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
													<br>
													Открой меню разработчика (с помощью консольной команды <code class="gdscript">
														dev_menu
													</code>
													) и найди кнопку "Take LUT Screenshot" в инструментах отладки<br>
													<img src="../../../assets/images/color_grading/make1.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
														<br>
														После нажатия этой кнопки твоя игра временно зависнет, чтобы сделать скриншот с образцом чистой LUT сверху. Тебе нужно найти <code class="gdscript">
															"user://screenshots"
														</code>
														, чтобы найти свой новый скриншот. Ты можешь сделать это так же с лёгкостью, как нажав эту кнопку в редакторе...<br>
														<img src="../../../assets/images/color_grading/make2.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
															<br>
															И затем найти свой новый крутой скриншот<br>
															<img src="../../../assets/images/color_grading/make3.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																<br>
																<img src="../../../assets/images/color_grading/make4.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																	<br>
																	Это просто скриншот, конечно, но он содержит дополнительную информацию - identity LUT текстуру, размещённую в верхнем левом углу изображения<br>
																	<img src="../../../assets/images/color_grading/make5.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																		<br>
																		Это даёт тебе возможность взять этот скриншот и редактировать его по своему желанию. Однако тебе нужно знать: Ты не можешь использовать все операции твоего предпочитаемого графического редактора, а только те, которые влияют на ВСЕ цвета в твоём изображении. Эффекты вроде яркости, контрастности, насыщенности, кривых, тонирования, выделения и т.д. В GIMP ты можешь найти такие эффекты во вкладке "colors" здесь.<br>
																		<img src="../../../assets/images/color_grading/make6.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																			<br>
																			Предположим, что ты сделал все изменения, связанные с твоим скриншотом, как ты хотел, сделал его более холодным, например<br>
																			<img src="../../../assets/images/color_grading/make7.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																				<br>
																				После этого ты просто применяешь все эффекты, выделяешь эту часть изображения, которая является самой LUT (заметь, как она тоже изменила свои цвета), и затем ты просто копируешь её и создаёшь новое изображение на основе данных из буфера обмена<br>
																				<img src="../../../assets/images/color_grading/make8.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																					<br>
																					<img src="../../../assets/images/color_grading/make9.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																						<br>
																						Последний шаг в графическом редакторе будет связан с экспортом твоей новой LUT-текстуры. Все LUT-текстуры сохраняются в <code class="gdscript">
																							"res://modules/color_grading/assets/LUTs/"
																						</code>
																						как .PNG файлы изображений, и имя твоего файла изображения также устанавливает имя будущей LUT цветокоррекции<br>
																						<img src="../../../assets/images/color_grading/make10.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																							<br>
																							К сожалению, есть ещё один шаг, связанный с настройками импорта в редакторе. По умолчанию .PNG текстуры имеют VRAM сжатие, повторение и другие ненужные настройки, которые сделают LUT ещё более сломанной, чем она на самом деле есть. Чтобы исправить это, найди свою LUT в Godot и дважды щёлкни по ней...<br>
																							<img src="../../../assets/images/color_grading/make11.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																								<br>
																								Измени настройки импорта на следующие...<br>
																								Compression mode: Lossless<br>
																								Repeat: Disabled<br>
																								Filter: Disabled<br>
																								Mipmaps: Disabled<br>
																								Anisotropic: Disabled<br>
																								sRGB: Disable<br>
																								<img src="../../../assets/images/color_grading/make12.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																									<br>
																									<br>
																									И... после всего этого... Всё должно быть готово. Ты можешь протестировать свою новую крутую цветокоррекцию в игре, используя дев-меню:<br>
																									<img src="../../../assets/images/color_grading/make13.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																										<br>
																										<img src="../../../assets/images/color_grading/make14.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																											<br>
																											<br>
																											Ты можешь использовать цветокоррекцию несколькими способами. Во-первых, ты можешь установить LUT цветокоррекции в одном из экспортов <code class="gdscript">
																												LocationBase
																											</code>
																											, что установит цветокоррекцию для всей локации. Это также включит превью твоей LUT в редакторе. Ты также можешь использовать AssetHelper, чтобы назначить LUT.<br>
																											<img src="../../../assets/images/color_grading/make15.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																												<br>
																												Или ты можешь использовать <code class="gdscript">
																													st_change_location_lut_texture
																												</code>
																												, который позволит тебе переключать LUT на основе события локации.<br>
																												<img src="../../../assets/images/color_grading/make16.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																													<br>
																													<br>
																													Веселись, меняя цвета. Цветокоррекция не имеет никакой производительной стоимости, так что ты можешь использовать её сколько угодно. Игроки, конечно, всё ещё имеют возможность полностью отключить цветокоррекцию, потому что... как кажется, всегда есть игроки, которые любят отключать её по какой-либо причине.
																												</p>
																												<h3>
																													General Information
																												</h3>
																												<h4>
																													Root directories list
																												</h4>
																												<p>
																													assets, docs, src
																												</p>
																												<h4>
																													Nodes
																												</h4>
																												<p>
																													<a class="a_simple" href="./scripts/effect_game.html">
																														effect_game
																													</a>
																													<br>
																													<a class="a_simple" href="./scripts/color_grading.html">
																														ColorGrading
																													</a>
																												</p>
																												<h4>
																													Classes
																												</h4>
																												<p>
																													None
																												</p>
																												<h4>
																													Resources
																												</h4>
																												<p>
																													None
																												</p>
																												<h4>
																													Other Scripts
																												</h4>
																												<p>
																													None
																												</p>
																											</div>
																										</div>
																									</center>
																									<script src="../../../assets/code_blocks.js">
																									</script>
																								</body>
																							</html>
