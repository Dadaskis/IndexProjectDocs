[gd_resource type="Resource" load_steps=2 format=2]

[ext_resource path="res://modules/doc_info/src/doc_info.gd" type="Script" id=1]

[resource]
script = ExtResource( 1 )
info = "A module with console commands creation script. It has nothing but [gd]\"res://modules/console_commands/src/console_start.gd\"[/gd] script that, of course, just registers all the console commands; All initialization happens in [gd]ConsoleCommands._ready[/gd] function, it contains... a lot of commands out there...

[c]Adding your own command with blackjack and hookers[/c]
Locate the [gd]\"console_start.gd\"[/gd] file, edit it. Yeah, you have to edit that monster and there's no way around.
[gd]
# Adding set_health command as an example
# ...

# Sets player health to specified amount
# amount: Health value to set
func set_health(amount: int):
	if player:
		# Ensure max health is at least the amount we're setting
		if player.character.get_max_health() < amount:
			player.character.set_max_health(amount)
		# Set current health
		player.character.set_health(amount)

# ...
func _ready():
	# ...
	Console.add_command(\"set_health\", self, \"set_health\") \\
		.set_description(\"Sets player health.\") \\
		.add_argument(\"amount\", TYPE_INT) \\
		.register()
	# ...
[/gd]
Basically you just have:
	1. Create a function with the name of your command (you better keep it that way for consistency)
	2. Add [gd]Console.add_command[/gd] to your [gd]_ready[/gd] function

For more use examples you can just check the other commands in the source file

It was never supposed to go that big and i don't really want to refactor it, so... It is what it is :)"
info_rus = "Модуль со скриптом создания консольных команд. Он не содержит ничего, кроме скрипта [gd]\"res://modules/console_commands/src/console_start.gd\"[/gd], который, конечно же, просто регистрирует все консольные команды; Вся инициализация происходит в функции [gd]ConsoleCommands._ready[/gd], она содержит... много команд там...

[c]Добавление своей собственной команды с блэкджеком и шлюхами[/c]
Найди файл [gd]\"console_start.gd\"[/gd], отредактируй его. Да, тебе придётся редактировать этого монстра, и нет способа обойти это.
[gd]
# Добавление команды set_health в качестве примера
# ...

# Устанавливает здоровье игрока на указанное значение
# amount: Значение здоровья для установки
func set_health(amount: int):
	if player:
		# Убеждаемся, что максимальное здоровье хотя бы равно устанавливаемому значению
		if player.character.get_max_health() < amount:
			player.character.set_max_health(amount)
		# Устанавливаем текущее здоровье
		player.character.set_health(amount)

# ...
func _ready():
	# ...
	Console.add_command(\"set_health\", self, \"set_health\") \\
		.set_description(\"Устанавливает здоровье игрока.\") \\
		.add_argument(\"amount\", TYPE_INT) \\
		.register()
	# ...
[/gd]
По сути, тебе просто нужно:
	1. Создать функцию с именем твоей команды (тебе лучше делать это так для консистентности)
	2. Добавить [gd]Console.add_command[/gd] в твою функцию [gd]_ready[/gd]

Для получения дополнительных примеров использования ты можешь просто проверить другие команды в исходном файле

Он никогда не предполагался таким большим, и я реально не хочу его рефакторить, так что... Как уж оно есть :)"
edit_time = 1.76113e+09
