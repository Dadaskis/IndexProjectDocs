<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Index Project - post_processing_system
		</title>
		<link rel="preload" as="image" href="../../../assets/images/_docs_background.png">
		<link rel="stylesheet" type="text/css" href="../../../assets/style.css">
	</head>
	<body>
		<div class="scanlines">
		</div>
		<script src="../../../assets/sidebar_injector_module.js">
		</script>
		<center>
			<div class="everything">
				<div class="sidebar">
					<h1>
						Index Project Guide
					</h1>
					<br/>
					<br/>
					<input type="text" class="searchbar" placeholder="Search...">
						<div class="sidebar-content" id="sidebar-content">
						</div>
					</div>
					<div class="main_body">
						<h3>
							Module: post_processing_system
						</h3>
						<p class="red-marking">
							Documentation last edited: October 23, 2025 at 14:33 UTC
						</p>
						<div class="lang-select-div">
							<a href="./index.html">
								ENG
							</a>
							<a href="./index_rus.html">
								RUS
							</a>
						</div>
						<h4>
							Description
						</h4>
						<p>
							Модуль системы пост-обработки, который упрощает работу с различными эффектами пост-обработки, позволяя легко расширять набор существующих эффектов.<br>
							<br>
							Сам по себе <code class="gdscript">
								PostProcessingSystem
							</code>
							- это просто продвинутый менеджер массива эффектов пост-обработки, которые все наследуются от <code class="gdscript">
								PostProcessingBase
							</code>
							, при этом questioning их существование в этой чёртовой кодовой базе. Имей в виду, что базовый класс для эффектов наследуется от <code class="gdscript">
								Resource
							</code>
							, поэтому его можно куда-нибудь сохранить, чтобы незаконно провезти файл ресурса <code class="gdscript">
								DrugRGBPostProcessing
							</code>
							через границу твоей страны. Извини, если это звучит слишком банально на данный момент, но разве ты не стал бы контрабандистом наркотиков таким образом? Это звучит романтично в некотором смысле. Просто перевози флешку с этим ресурсом внутри. Настроенную для галлюциногенного удовольствия. Я чуть не упал лицом на свою клавиатуру, когда подумал, что я здесь напишу. Каковы шансы, что кто-нибудь вообще узнает, что я здесь пишу? И почему я хочу потратить свои последние деньги, чтобы сделать то, что я только что сказал про флешку?<br>
							<br>
							Если ты хочешь создать свой собственный драгоценный эффект пост-обработки, подумай дважды. Если ты проигнорировал эти инструкции и просто перешёл к следующей строке - ты мужик.<br>
							<br>
							<code class="gdscript">
								"res://modules/post_processing_system/assets/effects/"
							</code>
							содержит все эффекты, которые хранятся по следующему шаблону:<br>
							<code class="gdscript">
								<br>
								.<br>
								└── effects<br>
								&emsp;└── ИМЯ_ЭФФЕКТА_ЗДЕСЬ<br>
								&emsp;&emsp;└── effect.tres<br>
							</code>
							<br>
							Всё остальное не имеет особого значения. Ты просто хранишь всё остальное как пожелаешь. Пожалуйста, прими к сведению: <code class="gdscript">
								"effect.tres"
							</code>
							должен быть твоим собственным классом пост-обработки, написанным вручную, который наследуется от <code class="gdscript">
								PostProcessingBase
							</code>
							.<br>
							<br>
						</p>
						<h4 style="width: 60%">
							Пример
						</h4>
						<p>
							<br>
							Я возьму один из существующих эффектов, чтобы ты мог изучить его труп и научиться на нём.<br>
							<br>
							<code class="red-marking">
								Пожалуйста, храни свои кастомные эффекты в res://modules/post_processing_system/src/effects, я умоляю тебя.
							</code>
							<br>
							<code class="gdscript">
								"res://modules/post_processing_system/src/effects/drug_rgb.gd"
							</code>
							<br>
							<code class="gdscript">
								<br>
								# Обрабатывает RGB-разделение и эффекты размытия для наркотических/нарушающих зрение визуалами<br>
								# Создает психоделическое разделение цветов и эффекты размытия с настраиваемой интенсивностью<br>
								<br>
								extends PostProcessingBase<br>
								<br>
								class_name DrugRGBPostProcessing<br>
								<br>
								# Текстура кривой, определяющая шаблон разделения цветов RGB<br>
								export(CurveTexture) var curve_tex<br>
								<br>
								# Шумовая текстура для искажения эффекта<br>
								export(NoiseTexture) var noise_tex<br>
								<br>
								# Шейдерный материал, реализующий визуальный эффект<br>
								var shader_mat: ShaderMaterial<br>
								<br>
								# Активен ли эффект в данный момент (используй сеттер для переключения)<br>
								var active = false setget set_active<br>
								<br>
								# Текущая интенсивность эффекта (0-1)<br>
								var intensity = 0.0<br>
								<br>
								# Текущая сила размытия (0-1)<br>
								var blur_force = 0.0<br>
								<br>
								# Инициализирует систему эффектов<br>
								func custom_initialize():<br>
								&emsp;# Загружаем соответствующий шейдер в зависимости от настройки качества<br>
								&emsp;var shader_name = "drug_rgb"<br>
								&emsp;if Values.get_value("post_processing_quality", "high") == "low":<br>
								&emsp;&emsp;shader_name = "drug_rgb_low"<br>
								&emsp;<br>
								&emsp;# Создаём и настраиваем шейдерный материал<br>
								&emsp;shader_mat = load_shader(shader_name)<br>
								&emsp;shader_mat.set_shader_param("curve_tex", curve_tex)<br>
								&emsp;shader_mat.set_shader_param("noise0_tex", noise_tex)<br>
								<br>
								# Обновляет параметры эффекта каждый кадр<br>
								func custom_update(delta: float):<br>
								&emsp;# Обрабатываем переходы интенсивности<br>
								&emsp;if active:<br>
								&emsp;&emsp;# Плавное появление основного эффекта<br>
								&emsp;&emsp;intensity = lerp(intensity, 1.0, 1.0 * delta)<br>
								&emsp;&emsp;# Медленное появление размытия (создает ступенчатый эффект)<br>
								&emsp;&emsp;blur_force = lerp(blur_force, 1.0, 0.1 * delta)<br>
								&emsp;else:<br>
								&emsp;&emsp;# Плавное затухание основного эффекта<br>
								&emsp;&emsp;intensity = lerp(intensity, 0.0, 0.3 * delta)<br>
								&emsp;&emsp;# Более быстрое затухание размытия<br>
								&emsp;&emsp;blur_force = lerp(blur_force, 0.0, 0.2 * delta)<br>
								&emsp;<br>
								&emsp;# Обновляем параметры шейдера<br>
								&emsp;shader_mat.set_shader_param("intensity", intensity)<br>
								&emsp;shader_mat.set_shader_param("blur_force", blur_force)<br>
								&emsp;<br>
								&emsp;# Включаем/выключаем эффект на основе порога интенсивности<br>
								&emsp;if intensity <= 0.005 and is_enabled:<br>
								&emsp;&emsp;disable()<br>
								&emsp;elif intensity >
								= 0.005 and not is_enabled:<br>
								&emsp;&emsp;enable()<br>
								<br>
								# Сеттер для свойства active - управляет включением эффекта<br>
								func set_active(value: bool):<br>
								&emsp;active = value<br>
							</code>
							<br>
							<br>
							<img src="../../../assets/images/post_processing_system/example0.png" width="400px" onclick="maximizeImage(this)" class="clickable-image">
								<br>
								<img src="../../../assets/images/post_processing_system/example1.png" width="400px" onclick="maximizeImage(this)" class="clickable-image">
									<br>
									<br>
									По сути, ты пишешь свой класс вроде <code class="gdscript">
										DrugRGBPostProcessing
									</code>
									, который не делает ничего, кроме самого базового контроля параметров шейдера. Шейдер... Просто шейдер, делающий то дерьмо, которое ты хочешь. Ресурс просто служит способом настройки всего этого дерьма. Дерьмо сделано. Ты видишь шаблоны, верно? Хорошо. А если нет - убирайся к чёрту отсюда и иди пронеси ту флешку с ресурсом <code class="gdscript">
										DrugRGBPostProcessing
									</code>
									через границу, чтобы пограничники усомнились в твоём психическом здоровье.<br>
									<br>
									Веселись.
								</p>
								<h3>
									General Information
								</h3>
								<h4>
									Root directories list
								</h4>
								<p>
									assets, docs, src
								</p>
								<h4>
									Nodes
								</h4>
								<p>
									None
								</p>
								<h4>
									Classes
								</h4>
								<p>
									<a class="a_simple" href="./scripts/post_processing_system.html">
										PostProcessingSystem
									</a>
								</p>
								<h4>
									Resources
								</h4>
								<p>
									<a class="a_simple" href="./scripts/drug_rgb.html">
										DrugRGBPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/hitman.html">
										HitmanPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/hcss_outline.html">
										HCSSOutlinePostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/drug_effect.html">
										DrugEffectPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/suppression.html">
										SuppressionPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/special_ability_overlay.html">
										SpecialAbilityOverlayPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/SSAO.html">
										SSAOPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/corner_color.html">
										CornerColorPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/night_vision.html">
										NightVisionPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/black_debug.html">
										BlackDebugPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/underwater.html">
										UnderwaterPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/armor_helmet_break.html">
										ArmorHelmetBreakPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/motion_blur.html">
										MotionBlurPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/flashbang.html">
										FlashbangPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/low_hp.html">
										LowHPPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/flashbang_blur.html">
										FlashbangBlurPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/armor_helmet.html">
										ArmorHelmetPostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/vignette.html">
										VignettePostProcessing
									</a>
									<br>
									<a class="a_simple" href="./scripts/post_processing_base.html">
										PostProcessingBase
									</a>
								</p>
								<h4>
									Other Scripts
								</h4>
								<p>
									None
								</p>
							</div>
						</div>
					</center>
					<script src="../../../assets/code_blocks.js">
					</script>
				</body>
			</html>
