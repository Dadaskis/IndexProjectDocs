<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Index Project - character_builder
		</title>
		<link rel="preload" as="image" href="../../../assets/images/docs_background.png">
		<link rel="stylesheet" type="text/css" href="../../../assets/style.css">
	</head>
	<body>
		<div class="scanlines">
		</div>
		<script src="../../../assets/sidebar_injector_module.js">
		</script>
		<center>
			<div class="everything">
				<div class="sidebar">
					<h1>
						Index Project Guide
					</h1>
					<br/>
					<br/>
					<input type="text" class="searchbar" placeholder="Search...">
						<div class="sidebar-content" id="sidebar-content">
						</div>
					</div>
					<div class="main_body">
						<h3>
							Module: character_builder
						</h3>
						<p class="red-marking">
							Documentation last edited: October 22, 2025 at 8:00 UTC
						</p>
						<div class="lang-select-div">
							<a href="./index.html">
								ENG
							</a>
							<a href="./index_rus.html">
								RUS
							</a>
						</div>
						<h4>
							Description
						</h4>
						<p>
							<img src="../../../assets/images/character_builder/example0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
								<br>
							</p>
							<h2>
								Какова цель?
							</h2>
							<p>
								<br>
								Character Builder предоставляет надёжный рабочий процесс для создания персонажей любой сложности. По сути, он работает как конструктор гуманоидных персонажей. Если ты когда-либо играл в GTA, ты probably использовал их систему одежды хотя бы раз, чтобы изменить внешний вид своего персонажа. В этом случае Character Builder довольно похож. Однако здесь он пригоден для создания моделей персонажей, которые later могут быть использованы для NPC или комиксных сцен. В данном случае...<br>
								- Character Builder предоставляет "части персонажа" для добавления элементов, влияющих на несколько костей. Это может быть довольно сложная одежда или снаряжение.<br>
								- "Детали персонажа" - это объекты, прикреплённые к кости (100% влияние веса кости на все вершины), например, подсумки для магазинов, рации, очки, мелкие переиспользуемые детали.<br>
								- Реалистичный превью движущегося персонажа, чтобы показать, как работают веса вершин.<br>
								- Возможность сохраниться и вернуться позже.<br>
								- Все ассеты могут загружаться в реальном времени, тебе не нужно ждать, пока Godot импортирует модели или текстуры.<br>
								- Поддержка субтекстур и редактирования материалов для ещё большего визуального контроля.<br>
								- Экспорт GLTF с минимальным количеством материалов за счёт создания комбинированного, оптимизированного текстурного атласа.<br>
								- Благодаря более модульному рабочему процессу, работа может быть разделена между несколькими художниками, работающими над разными частями/деталями.<br>
								- И, возможно, немного больше.<br>
								<br>
								<code>
									Как это делалось раньше? Какова была причина создания Character Builder?
								</code>
								<br>
								<img src="../../../assets/images/character_builder/old0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
									<br>
									Рабочий процесс был таким:<br>
									- Создать высокополигональную модель одежды, чтобы потом объединить в один меш.<br>
									- Быстрое, грязное создание низкополигональной модели с помощью Instant Meshes.<br>
									- UV развёртка, запекание, текстурирование, быстрый риггинг, та-да.<br>
									...<br>
									За 8 часов я мог сделать одного персонажа! Ну, не совсем 8 часов, иногда больше, если, например, нужно было сделать квадрупульные ПНВ. Этот рабочий процесс был *невероятно быстрым*, правда. Однако он страдал от проблем, которые были отталкивающими для меня как разработчика:<br>
									- Каждый персонаж требовал как минимум 8 часов работы, конечно, могло быть и меньше... но это приходилось оплачивать.<br>
									- Невозможно переиспользовать *любые* части уже существующих персонажей.<br>
									- Более высокий уровень детализации usually означал прохождение нескольких кругов ада. Хочешь прокатиться по аду?<br>
									- Моделирование твёрдых поверхностей (упомянутые ПНВ) довольно сложно.<br>
									- Практически невозможно вернуться и изменить *одну маленькую деталь* в модели.<br>
									- И так далее, если у тебя есть определённый опыт в моделировании, ты можешь назвать *ещё больше* таких пунктов.<br>
									<br>
									<code>
										Цель
									</code>
									<br>
									<img src="../../../assets/images/character_builder/new0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
										<br>
										Итак, как было сказано, Character Builder - это <code>
											"must-have"
										</code>
										, когда дело доходит до создания любых персонажей в этой игре отныне. Даже если альтернативные способы всё ещё доступны, <code>
											настоятельно рекомендуется
										</code>
										использовать этот инструмент вместо них. Он избавляет от множества проблем при компоновке одежды, переиспользовании деталей и, конечно, самое главное - он оптимизирует как рабочее время, так и производительность итоговых персонажей во время выполнения.<br>
										<br>
										Чтобы использовать этот инструмент, просто перейди в локацию под названием <code>
											character_builder
										</code>
										, вот и всё. Имей в виду: эта локация <code class="red-marking">
											НЕ БУДЕТ работать в экспортированной игре
										</code>
										, поскольку она полагается на инструменты экспорта GLTF, которые <code>
											доступны только в редакторных сборках.
										</code>
										<br>
										<br>
									</p>
									<h2>
										Техническая сторона
									</h2>
									<p>
										<br>
										<br>
										Во-первых, тебе нужно знать, что весь редактор практически сделан в одной сцене: <code>
											res://modules/character_builder/assets/editor_scenes/character_builder.tscn
										</code>
										. Конечно, он использует набор подсцен для более сложных частей, таких как контроллер камеры, персонаж, UI и gizmos.<br>
										<br>
										<code>
											Структура сцены
										</code>
										<br>
										<img src="../../../assets/images/character_builder/scene_structure0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
											<br>
											<code>
												world_env
											</code>
											и <code>
												env
											</code>
											- эти два просто настраивают окружение для фона<br>
											<code>
												cam_rotation
											</code>
											- контроллер камеры, простые управления, назначенные на правую кнопку мыши<br>
											<code>
												character
											</code>
											- сам персонаж, представляет собой сложную модель со всеми мешами частей/деталей персонажа на ней, он также содержит логику экспорта в коде этого узла<br>
											<code>
												ui_layer/editor_UI
											</code>
											- весь UI этого редактора, довольно сложная подсцена со всеми видами узлов, производных от <code>
												Control
											</code>
											<br>
											<code>
												position
											</code>
											и <code>
												rotation
											</code>
											- gizmos, используемые системой для перемещения объектов (в основном используются для деталей)<br>
											<code>
												screenshot_viewport
											</code>
											- просто вьюпорт, который делает скриншоты для файлов сохранений персонажей<br>
											<br>
											<code>
												Структура файлов
											</code>
											<br>
											<img src="../../../assets/images/character_builder/file_structure0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
												<br>
												<code>
													res://modules/character_builder/assets/char_base/
												</code>
												- содержит заглушку гуманоидного персонажа<br>
												<code>
													res://modules/character_builder/assets/editor_scenes/
												</code>
												- набор папок, относящихся к главной сцене редактора (включая саму сцену)<br>
												<code>
													res://modules/character_builder/assets/editor_scenes/character/
												</code>
												- сцены, относящиеся к модели персонажа, в данном случае, сцена персонажа, а также сцена экспорта материалов<br>
												<code>
													res://modules/character_builder/assets/editor_scenes/editor/
												</code>
												- общие штуки редактора, такие как контроллер камеры, эта папка содержит <code>
													camera.tscn
												</code>
												, которая работает как вью от первого лица в режиме noclip, однако она была сделана в первой версии этого инструмента и была удалена из-за неудобства использования в этом случае<br>
												<code>
													res://modules/character_builder/assets/editor_scenes/editor_UI/
												</code>
												- содержит сцену UI редактора, а также папку, содержащую различные сложные элементы UI, используемые этим UI редактора, эта папка также содержит файл темы ресурса<br>
												<code>
													res://modules/character_builder/assets/editor_scenes/editor_UI/parts/
												</code>
												- сложные части UI редактора, которые относятся к различным спискам, селекторам и, самое главное - окну комбайнера материалов<br>
												<code>
													res://modules/character_builder/assets/textures/
												</code>
												- некоторые текстуры, используемые в основном UI<br>
												<br>
												Этот модуль также содержит <code>
													скрытые папки
												</code>
												, которые будут рассмотрены в другом разделе этой документации.<br>
												<br>
												<code>
													Структура кода и принципы
												</code>
												<br>
												<br>
												В отличие от некоторых других похожих модулей, таких как <code>
													comics_renderer
												</code>
												, этот модуль пытается максимально использовать принцип "вызов вниз, сигнал вверх", чтобы избежать беспорядка в коде. К сожалению, это приводит к безумному количеству шаблонного кода, но в целом организация более-менее понятна. Даже если я хочу рассказать о каждом скрипте подробно, у них есть свои собственные страницы документации. Здесь я хотел бы указать на те, которые довольно важные для этого модуля, чтобы тебе было легче начать ориентироваться здесь.<br>
												<br>
												<code>
													res://modules/character_builder/src/character_builder.gd
												</code>
												- это основной скрипт в этой системе, он работает как скотч для модели персонажа и UI. Он соединяется со всеми сигналами этих двух и заставляет их общаться друг с другом через вызовы сигналов. Если модель персонажа изменила список частей, UI редактора будет обновлён соответственно. Если меню комбайнера материалов получило некоторые изменения, персонаж получит информацию об этом от этого основного скрипта, который получит эту информацию из сигнала. Вызов вниз, сигнал вверх - в этом цель всего этого скрипта. Конечно, он вышел за эти рамки, когда дело доходит до следующих пунктов:<br>
												- Управление вводом<br>
												- Синхронизация UI / Контроллера камеры (не принимать ввод, если курсор в UI)<br>
												- Логика выделения объектов (в основном используется для "деталей персонажа")<br>
												- Обработка логики сохранения/загрузки<br>
												Вся эта логика помогает сделать этот инструмент пригодным для использования конечным пользователем; Делает их счастливыми, понимаешь, удовлетворёнными этой жизнью, дополнительный дофамин в их мозгу, заставляет их забыть все неприятности, которые они испытали в этой жизни, ты понимаешь, о чём я.<br>
												<br>
												<code>
													res://modules/character_builder/src/editor_UI/editor_UI.gd
												</code>
												- это код UI редактора и, да, здесь не так уж много можно увидеть, это по сути полностью реализованный скрипт "вызов вниз, сигнал вверх", который соединяет все части вместе, предоставляя список сигналов, пригодных для использования <code>
													character_builder.gd
												</code>
												<br>
												<br>
												<code>
													res://modules/character_builder/src/character/character.gd
												</code>
												- в некотором роде, своего рода сердце во всей этой системе. Это код, который работает с моделью персонажа, а именно:<br>
												- Организация/Обработка частей и деталей персонажа<br>
												- Экспорт в GLTF с комбинированными наборами текстур<br>
												- Работа с сохранением/загрузкой<br>
												Несмотря на то, что этот скрипт работает с экспортом, имей в виду: окно комбайнера материалов - это то, что делает экспорт возможным, только при правильной конфигурации <code>
													character.gd
												</code>
												может функционировать как экспортёр.<br>
												<br>
												<code>
													res://modules/character_builder/src/character/material_export.gd
												</code>
												- все наборы текстур рендерятся в отдельном <code>
													Viewport
												</code>
												, чтобы later быть объединёнными в <code>
													character.gd
												</code>
												. Этот важен, потому что материалы могут иметь разные конфигурации, и <code>
													material_export.gd
												</code>
												принудительно заставляет все материалы сохраняться в PBR набор, состоящий из карт "Diffuse", "Normal" и "MRS". Имей в виду, вся логика "объединения наборов текстур" размещена в <code>
													character.gd
												</code>
												, а не здесь.<br>
												<br>
												<code>
													res://modules/character_builder/src/editor_UI/parts/material_combiner.gd
												</code>
												- код для UI комбинирования материалов. Этот важно упомянуть, потому что это источник всей информации относительно комбинации наборов текстур; Он экспортирует данные, которые later используются <code>
													character.gd
												</code>
												<br>
												<br>
												<code>
													res://modules/character_builder/src/autoload/character_builder_utilities.gd
												</code>
												- автозагрузка, также известная как <code>
													CharacterBuilderUtilities
												</code>
												, этот синглтон существует, чтобы покрыть основные потребности обработки моделей в этом модуле, которые требуются частям/деталям персонажа, а также определённым элементам UI<br>
												<br>
												Для получения более подробной информации относительно других скриптов в этом модуле, пожалуйста, прочти документацию этих скриптов или загляни в их исходный код.<br>
												<br>
												<code>
													Скрытые папки
												</code>
												<br>
												<img src="../../../assets/images/character_builder/hidden_folders0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
													<br>
													<code>
														res://modules/character_builder/assets/
													</code>
													содержит набор скрытых папок. Godot игнорирует все папки, которые начинаются с точки, например, <code>
														.game_export
													</code>
													в частности. В этом случае Godot не будет импортировать любые файлы там, и они не будут видны в <code>
														FileSystem
													</code>
													. Помимо игнорирования шага импорта этого движка, есть ещё одна причина для такого дизайнерского решения: Этот проект содержит множество файлов, которые замедляют работу <code>
														FileSystem
													</code>
													, что приводит к гораздо более медленному обнаружению импортируемых файлов, более медленному времени сохранения и т.д. Более того, эта система полагается на загрузку ресурсов во время выполнения с помощью <code class="gdscript">
														CharacterBuilderUtilities.load_image_texture
													</code>
													и <code class="gdscript">
														PackedSceneGLTF.import_gltf_scene
													</code>
													как способ пропустить мучительную часть импорта ассетов Godot. Это также позволяет не закрывать приложение, если ты импортировал новую деталь, ты можешь просто перезагрузить ассеты, и это позволит тебе продолжать работу над своим персонажем.<br>
													<br>
													Список скрытых папок:<br>
													<code>
														.char_detail_sources
													</code>
													- содержит исходные файлы, относящиеся к деталям персонажа, включая файлы Blender, а также запечённые карты<br>
													<code>
														.char_details
													</code>
													- экспортированные файлы всех деталей персонажа, которые загружаются системой для работы<br>
													<code>
														.char_parts
													</code>
													- экспортированные файлы всех частей персонажа<br>
													<code>
														.char_parts_sources
													</code>
													- исходные файлы частей персонажа (как <code>
														.char_detail_sources
													</code>
													)<br>
													<code>
														.GLTF_exports
													</code>
													- все экспортированные персонажи, они всегда оказываются здесь при экспорте, даже если ты отключишь экспорт в модуль <code>
														human_model
													</code>
													<br>
													<code>
														.saved_characters
													</code>
													- файлы сохранений всех персонажей<br>
													<br>
													Потенциальные случаи использования этих скрытых папок рассматриваются в разделе <code>
														Как ты можешь импортировать свои собственные ассеты? / Организация скрытых папок
													</code>
													на этой странице документации. Прокрути вниз, ты найдёшь это там.<br>
													<br>
												</p>
												<h2>
													Как использовать?
												</h2>
												<p>
													<br>
													<br>
													<code>
														Начало
													</code>
													<br>
													Чтобы начать использовать Character Builder, ты можешь переключиться на локацию под названием <code>
														character_builder
													</code>
													, введя консольную команду: <code>
														change_location character_builder
													</code>
													. Или, как альтернатива, ты можешь просто использовать дев-меню. В любом случае, как только ты переключишься на эту локацию, ты увидишь стандартную настройку.<br>
													<img src="../../../assets/images/character_builder/use0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
														<br>
														<br>
														<code>
															Смена имени
														</code>
														<br>
														Как только ты начнёшь работать над новым персонажем, тебе, возможно, потребуется сменить имя своего персонажа. Ты можешь сделать это, нажав кнопку "Edit" на верхней панели и введя имя своего персонажа. После того как ты нажмёшь "Apply", это изменит имя твоего персонажа.<br>
														<img src="../../../assets/images/character_builder/use1.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
															<br>
															<br>
															<code>
																Сохранение
															</code>
															<br>
															Нажав save, ты сохранишь персонажа с этим именем. Если существуют файлы сохранений с таким же именем - они будут автоматически перезаписаны, так что будь осторожен.<br>
															<img src="../../../assets/images/character_builder/use2.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																<br>
																<br>
																<code>
																	Загрузка
																</code>
																<br>
																Ты также можешь загрузить всех существующих персонажей, нажав кнопку "Load", в меню ты сможешь увидеть имена существующих персонажей, а также их превью для более лёгкого понимания, что это за персонаж.<br>
																<img src="../../../assets/images/character_builder/use3.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																	<br>
																	<br>
																	<code>
																		Части персонажа
																	</code>
																	<br>
																	Когда ты создаёшь нового персонажа, тебе, возможно, понадобится добавить свою первую часть персонажа. Ты можешь сделать это, нажав кнопку "Add a character part" слева.<br>
																	<img src="../../../assets/images/character_builder/use4.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																		<br>
																		После нажатия этой кнопки ты увидишь меню всех доступных частей персонажа. Ты можешь добавлять любые части персонажа без каких-либо ограничений, если это соответствует твоему художественному видению. После того как ты добавишь часть персонажа, окно выбора НЕ закроется, позволяя тебе добавить несколько частей.<br>
																		<img src="../../../assets/images/character_builder/use5.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																			<br>
																			Если ты хочешь редактировать свойства своей новой части, ты можешь нажать кнопку
																			[o]
																			в списке частей слева.<br>
																			<img src="../../../assets/images/character_builder/use6.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																				<br>
																				Это даст тебе доступ к параметрам трансформации, а также к редактированию материалов. Нажав на кнопку редактирования материала, ты увидишь список свойств в окне "Material Editor", где ты можешь менять текстуры своей части или настраивать параметры материала согласно своему вкусу или потребностям. Если эта часть тебе больше не нужна, ты можешь просто нажать "Remove" в окне свойств.<br>
																				<img src="../../../assets/images/character_builder/use7.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																					<br>
																					<br>
																					<code>
																						Детали персонажа
																					</code>
																					<br>
																					Если ты закончил работать с частями персонажа любого вида, тебе, вероятнее всего, захочется поработать с деталями этого персонажа. Ты можешь сделать это, добавив их кнопкой "Add a character detail". Процесс *очень* похож на добавление частей персонажа, за исключением одного существенного различия, которое делает детали персонажа уникальным инструментом в руках художника. В отличие от частей персонажа, ты можешь выбирать детали, просто жмякая на них во вьюпорте Character Builder. Это даст тебе возможность использовать gizmos для позиционирования и вращения этих деталей. Таким образом, ты можешь добавлять подсумки для магазинов к своей разгрузке. Имей в виду, детали прикрепляются к конкретной кости (в отличие от частей, которые имеют множественные влияния). Когда ты выбираешь деталь, ты можешь указать группу костей и, как следствие: кость, к которой нужно прикрепить эту деталь. Ты можешь использовать кнопку "Toggle Idle Pose Animation" для воспроизведения тестовой анимации, чтобы узнать, как твои детали двигаются вместе с персонажем.<br>
																					<img src="../../../assets/images/character_builder/use8.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																						<br>
																						<br>
																						<code>
																							Экспорт
																						</code>
																						<br>
																						Когда ты закончил создание своего персонажа, тебе, наверное, захочется экспортировать этого персонажа для импорта в игру как "Модель человека". Однако тебе нужно понимать, что этот процесс состоит из нескольких шагов. Самые важные из них - "Конфигурация комбинирования материалов" и "Интеграция BlenderFastTools"<br>
																						<br>
																						<code>
																							Экспорт - Конфигурация комбинирования материалов
																						</code>
																						<br>
																						Если ты попытаешься экспортировать модель персонажа сразу без конфигурации, ты получишь ошибку: <code>
																							Export error: Please, configure material combining without errors.
																						</code>
																						<br>
																						<img src="../../../assets/images/character_builder/use9.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																							<br>
																							В этом случае тебе нужно нажать кнопку "Material Config", она расположена слева.<br>
																							<img src="../../../assets/images/character_builder/use10.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																								<br>
																								Как только ты нажмёшь эту кнопку, ты увидишь высокоспециализированное нанотехнологичное не-ИИ чёртово шедевральное окно для размещения простых квадратных форм, чтобы превратить их в единый комбинированный бомбический оптимизированный высококачественный набор текстур.<br>
																								<img src="../../../assets/images/character_builder/use11.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																									<br>
																									Ах да, мне было так скучно писать эту штуку на данном этапе, что я не мог отказаться от добавления нескольких маркетинговых словечек, которые держали бы тебя вовлечённым... В любом случае, что я говорил... ты откроешь это окно, оно будет содержать список материалов слева.<br>
																									<img src="../../../assets/images/character_builder/use12.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																										<br>
																										Все эти материалы имеют checkbox, как только ты нажмёшь checkbox - этот материал появится в текстурированном поле.<br>
																										<img src="../../../assets/images/character_builder/use13.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																											<br>
																											Даже если ты можешь разместить одну текстуру поверх другой, имей в виду - UV будут размещены соответственно. Так что ты должен размещать их на своих уникальных местах без каких-либо пересечений. Если у тебя будут пересечения, ты увидишь предупреждение слева. Overlaps не остановят тебя от экспорта модели.<br>
																											<img src="../../../assets/images/character_builder/use14.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																												<br>
																												Ты можешь настроить размер отдельного материала слева, изменив значение "x1.0" на что-то другое.<br>
																												<img src="../../../assets/images/character_builder/use15.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																													<br>
																													И, если ты закончил с размещением своих материалов, ты также можешь изменить "Tex. Size Limit", чтобы изменить размер итоговой текстуры, если значение по умолчанию может быть слишком низким для твоих потребностей. Ты можешь установить лимит размера на максимальное значение, и система будет использовать только необходимое разрешение текстуры.<br>
																													<img src="../../../assets/images/character_builder/use16.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																														<br>
																														Как только ты закончил со всем, ты можешь нажать "Export GLTF", и это экспортирует твою модель. Имей в виду, что checkbox "Export Human Tex" экспортирует твои текстуры в папку модели человека, которая расположена по адресу <code class="gdscript">
																															"res://modules/human_model/assets/models/
																															[CHARACTER_NAME_HERE]
																															"
																														</code>
																														.<br>
																														<img src="../../../assets/images/character_builder/use17.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																															<br>
																															<br>
																															<code>
																																Экспорт - Интеграция BlenderFastTools
																															</code>
																															<br>
																															Открой версию Blender, которая имеет полную поддержку плагина "BlenderFastTools". На данный момент 2.83 или 4.x - единственные совместимые версии. Перейди в окно "Scene Properties", прокрути вниз до конца раздела "BlenderFastTools".<br>
																															<img src="../../../assets/images/character_builder/use18.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																<br>
																																<img src="../../../assets/images/character_builder/use19.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																	<br>
																																	Ты увидишь категорию под названием "Import Character", в которой есть много предупреждений, написанных на экстремально-радикально вежливом английском.<br>
																																	<img src="../../../assets/images/character_builder/use20.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																		<br>
																																		Нажми кнопку "Update character list", а затем выбери персонажа, которого хочешь импортировать, в панели "Character Builder import".<br>
																																		<img src="../../../assets/images/character_builder/use21.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																			<br>
																																			После нажатия "Import Character" ты импортируешь персонажа, созданного в Character Builder.<br>
																																			<img src="../../../assets/images/character_builder/use22.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																				<br>
																																				Импортированный персонаж разделён на части и детали. Ты можешь либо соединить всё вместе, нажав "A", а затем "Ctrl + J", либо настроить определённые части в режиме редактирования, чтобы они лучше подходили.<br>
																																				<img src="../../../assets/images/character_builder/use23.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																					<br>
																																					После соединения всего вместе тебе нужно переименовать единственный mesh-объект в "character".<br>
																																					<img src="../../../assets/images/character_builder/use24.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																						<br>
																																						После этого ты получишь доступ к категории "Human Model" (она находится выше в разделе), где ты можешь найти кнопку "Export character".<br>
																																						<img src="../../../assets/images/character_builder/use25.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																							<br>
																																							Прежде чем нажать эту кнопку, убедись, что ты сохранил свой .blend файл с подходящим именем персонажа, которого хочешь экспортировать. Настоятельно рекомендуется хранить все модели человеческих персонажей в <code class="gdscript">
																																								"res://.dev_sources/human_models/"
																																							</code>
																																							. Как только ты сохранил свой файл, ты можешь нажать "Export character", что автоматически экспортирует соответствующий GLTF файл в <code class="gdscript">
																																								"res://modules/human_model/assets/models/
																																								[CHARACTER_NAME_HERE]
																																								"
																																							</code>
																																							.<br>
																																							<img src="../../../assets/images/character_builder/use26.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																								<br>
																																								<br>
																																								<code>
																																									Финальная конфигурация
																																								</code>
																																								<br>
																																								Убедись, что посетил эту папку в Godot, чтобы импортировать модели и настроить материалы, назначив им правильные значения и текстуры во всех слотах.<br>
																																								<img src="../../../assets/images/character_builder/use27.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																									<br>
																																									По умолчанию Godot импортирует материалы <code class="gdscript">
																																										SpatialMaterial
																																									</code>
																																									вместо <code class="gdscript">
																																										UserSpatialUbershader
																																									</code>
																																									, которые используются для всех материалов в этой игре. Во-первых - тебе нужно заменить <code class="gdscript">
																																										SpatialMaterial
																																									</code>
																																									на <code class="gdscript">
																																										UserSpatialUbershader
																																									</code>
																																									. Ты можешь просто удалить файл, создать новый ресурс (с тем же именем, заметь) и тогда всё будет круто. Однако это может быть слишком медленно, так что я хотел бы показать более лёгкий метод. Сначала скопируй путь к папке...<br>
																																									<img src="../../../assets/images/character_builder/use28.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																										<br>
																																										Затем открой меню <code>
																																											OtherKit
																																										</code>
																																										...<br>
																																										<img src="../../../assets/images/character_builder/use29.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																											<br>
																																											Кликни здесь несколько раз...<br>
																																											<img src="../../../assets/images/character_builder/use30.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																												<br>
																																												Найди вкладку "Material Replace", введи путь к папке, нажми "Replace"<br>
																																												<img src="../../../assets/images/character_builder/use31.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																													<br>
																																													Хотя это может показаться более сложным, чем делать это по-старинке, я лично нахожу это быстрее, потому что окно "Create a new resource" в этом проекте работает медленно, плюс я слишком ленив, чтобы "правильно" сохранять ресурс, тогда как этот инструмент помогает обнаружить любой <code class="gdscript">
																																														SpatialMaterial
																																													</code>
																																													и заменить их соответственно. Однако вернёмся к конфигурации. Когда ты получил в свои руки новый <code class="gdscript">
																																														UserSpatialUbershader
																																													</code>
																																													, тебе нужно включить эффекты... Также убедись, что изменил <code>
																																														Diffuse Mode
																																													</code>
																																													на <code class="gdscript">
																																														"Burley"
																																													</code>
																																													и <code>
																																														Specular Mode
																																													</code>
																																													на <code class="gdscript">
																																														"Schlick GGX"
																																													</code>
																																													...<br>
																																													<img src="../../../assets/images/character_builder/use32.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																														<br>
																																														<img src="../../../assets/images/character_builder/use33.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																															<br>
																																															Для большинства персонажей тебе понадобятся эффекты <code>
																																																Albedo
																																															</code>
																																															, <code>
																																																Normal Map
																																															</code>
																																															, <code>
																																																MRS
																																															</code>
																																															. Sometimes - <code>
																																																Emission
																																															</code>
																																															. Все эти эффекты будут более чем достаточными, чтобы сделать приличных персонажей любой сложности. После того как ты закончил включать эффекты, нажми <code>
																																																Force Update
																																															</code>
																																															, чтобы обновить шейдер в этом материале в соответствии с требованиями рендерера.<br>
																																															<img src="../../../assets/images/character_builder/use34.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																<br>
																																																После того как ты обновил материал, ты можешь назначить текстуры в слоты. Имей в виду - изначально твой материал будет полностью чёрным, так что не забудь изменить <code>
																																																	Albedo Color
																																																</code>
																																																на белый. Более того, <code>
																																																	Normal Map Power
																																																</code>
																																																по умолчанию равен <code>
																																																	0.0
																																																</code>
																																																, убедись, что изменил значение на <code>
																																																	1.0
																																																</code>
																																																, чтобы normal map оказывал полное влияние на освещение этого материала. После всего этого - мистер Shitass0 должен выглядеть свежо и чисто.<br>
																																																<img src="../../../assets/images/character_builder/use35.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																	<br>
																																																	<br>
																																																	<code>
																																																		Использование твоего нового крутого персонажа для NPC
																																																	</code>
																																																	<br>
																																																	Ладно, немного оффтопа здесь, поскольку это выходит за рамки этого модуля в целом... Но давай будем честны, ты был бы более чем счастлив увидеть своего нового крутого персонажа на определённом NPC в этой игре, верно? Так что давай сделаем это. <code class="gdscript">
																																																		"res://modules/non_playable_character/assets/characters/"
																																																	</code>
																																																	содержит все конфиги NPC-персонажей этой игры, так что ты можешь найти класс по своему выбору. Давай отредактируем <code>
																																																		agent
																																																	</code>
																																																	...<br>
																																																	<img src="../../../assets/images/character_builder/use36.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																		<br>
																																																		И затем ты просто редактируешь имя модели здесь, в этом массиве...<br>
																																																		<img src="../../../assets/images/character_builder/use37.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																			<br>
																																																			<br>
																																																		</p>
																																																		<h2>
																																																			Как ты можешь импортировать свои собственные ассеты? / Организация скрытых папок
																																																		</h2>
																																																		<p>
																																																			<br>
																																																			Как только ты встал на ноги и создал персонажа своей мечты, ты, скорее всего, задумаешься, как добавить пользовательские ассеты в этот инструмент. Это довольно легко, однако тебе нужно знать правила этой системы. Во-первых, ты можешь изучить быстрее, если изучишь уже существующие исходные файлы, размещённые в папках <code class="gdscript">
																																																				"modules/character_builder/assets/.char_parts_sources/"
																																																			</code>
																																																			и <code class="gdscript">
																																																				"modules/character_builder/assets/.char_detail_sources/"
																																																			</code>
																																																			, а также уже экспортированные <code class="gdscript">
																																																				"modules/character_builder/assets/.char_parts/"
																																																			</code>
																																																			и <code class="gdscript">
																																																				"modules/character_builder/assets/.char_details/"
																																																			</code>
																																																			. Изучая эти файлы, у тебя есть хороший шанс увидеть паттерны повсюду и отправиться в своего рода бэд-трип. Either way, я пишу это руководство, так что... Я полагаю мне всё равно нужно будет объяснить это.<br>
																																																			<img src="../../../assets/images/character_builder/import0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																				<br>
																																																				<br>
																																																				<code>
																																																					Геометрия частей персонажа
																																																				</code>
																																																				<br>
																																																				Чтобы сделать proper кусок геометрии для твоей части персонажа, тебе сначала нужно получить proper "арматуру" в Blender. <code class="gdscript">
																																																					"human_rig"
																																																				</code>
																																																				- это скелет, который используется всеми человеческими моделями и частями персонажей. Ты не можешь создать его самостоятельно, тебе нужно получить его откуда-то ещё. Ты можешь легко получить скелет, нажав "Import Human Armature" или импортировав персонажа, которого хотел бы разработать.<br>
																																																				<img src="../../../assets/images/character_builder/import1.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																					<br>
																																																					Как только ты получил арматуру (желательно с какой-нибудь геометрией гуманоидного персонажа), ты можешь создать свою часть персонажа. Обычно это так же просто, как создать геометрию поверх базовой человеческой меш-сетки. Я бы описал тебе детальное руководство о том, как делать модели здесь, но я бы предположил, что за твоей спиной годы опыта и ты сам знаешь, как делать эти штуки.<br>
																																																					<img src="../../../assets/images/character_builder/import2.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																						<br>
																																																						Когда ты закончил со своей моделью, убедись, что назвал свой mesh-объект <code class="gdscript">
																																																							"char_part"
																																																						</code>
																																																						, таким образом BlenderFastTools обнаружит его как экспортируемую mesh-сетку части персонажа. Перед экспортом, пожалуйста, убедись, что у тебя есть правильные веса вершин (меш привязан к арматуре и деформируется ею корректно) и что имя материала - это то, с чем ты сможешь работать (и оно достаточно уникально, чтобы не вызывать конфликтов с другими частями/деталями). Настоятельно рекомендуется называть свои материалы так же, как ты называешь свою часть персонажа. Если ты делаешь "armor0_m", то назови свой материал "armor0_m", если материалов несколько - просто добавь номер в конце.<br>
																																																						<img src="../../../assets/images/character_builder/import3.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																							<br>
																																																							После проверки всего: Нажми <code class="gdscript">
																																																								"Export character part"
																																																							</code>
																																																							в панели "Character Builder". Это экспортирует GLTF твоей части персонажа.<br>
																																																							<img src="../../../assets/images/character_builder/import4.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																								<br>
																																																								Однако тебе нужно подготовить текстуры. Все экспортированные текстуры должны следовать следующему pattern:<br>
																																																								<code class="gdscript">
																																																									<br>
																																																									"
																																																									[matname]
																																																									_D.tga" # Diffuse / Color map<br>
																																																									"
																																																									[matname]
																																																									_N.tga" # Normal map<br>
																																																									"
																																																									[matname]
																																																									_MRS.tga" # Metal-Roughness-Specular packed map<br>
																																																									"
																																																									[matname]
																																																									_E.tga" # Emission map<br>
																																																								</code>
																																																								<br>
																																																								Сохраняй свои имена консистентными, если твой материал называется "armor0_m", тогда имя твоего файла изображения будет <code class="gdscript">
																																																									"armor0_m_D.tga"
																																																								</code>
																																																								. Ты сохраняешь свои текстуры в папке экспортированной части персонажа. Чтобы найти свою экспортированную часть персонажа, перейди в <code class="gdscript">
																																																									"modules/character_builder/assets/.char_parts/"
																																																								</code>
																																																								и найди папку с именем твоей части персонажа. Как только ты экспортируешь все текстуры туда, всё должно быть fine, ты можешь перейти в Character Builder, обновить ассеты и добавить свою часть персонажа.<br>
																																																								<img src="../../../assets/images/character_builder/import5.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																									<br>
																																																									Имей в виду, если что-то пошло не так - не закрывай Character Builder, ты можешь просто исправить файлы, переэкспортировать stuff и затем обновить ассеты в Character Builder.<br>
																																																									<img src="../../../assets/images/character_builder/import6.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																										<br>
																																																										<br>
																																																										<code>
																																																											Геометрия деталей персонажа
																																																										</code>
																																																										<br>
																																																										Это действительно похоже на экспорт частей персонажа, за исключением того, что детали персонажа не должны быть привязаны к какой-либо арматуре для экспорта, они могут иметь любой origin и т.д. По сути, они просто объекты, как пропсы локаций, но сделанные для модели персонажа. Все принципы, связанные с текстурами и экспортом, применяются и здесь, но ты просто используешь <code class="gdscript">
																																																											"Export character detail"
																																																										</code>
																																																										. Это действительно всё, что тебе нужно знать. Для получения дополнительной информации, пожалуйста, перечитай.<br>
																																																										<img src="../../../assets/images/character_builder/import7.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																											<br>
																																																											<br>
																																																											<code>
																																																												Субтекстуры
																																																											</code>
																																																											<br>
																																																											Они работают прям как обычные текстуры, упомянутые выше, "main/default" текстуры, используемые для части/детали. Однако любая часть/деталь может получить вторичный набор этих текстур, и количество этих наборов может быть неограниченным. Чтобы сделать свою собственную субтекстуру, пожалуйста, создай/найди папку <code class="gdscript">
																																																												"subtextures"
																																																											</code>
																																																											внутри директории твоей части/детали. Затем внутри создай папку со следующим правилом именования: <code class="gdscript">
																																																												"
																																																												[mat_name]
																																																												__
																																																												[subtex_name]
																																																												"
																																																											</code>
																																																											. Например: <code class="gdscript">
																																																												"armor0_m__osec"
																																																											</code>
																																																											. В этом случае имей в виду, что двойной символ подчёркивания помечает разделение между именем материала и именем набора суб-текстур. Имей в виду, эта система была разработана даже для тех моделей, которые могут иметь несколько материалов, так что включение имени материала сначала всегда требуется для proper функционирования этой системы. В качестве примера ты можешь изучить следующую директорию: <code class="gdscript">
																																																												"modules/character_builder/assets/.char_parts/6b93_helmet_28x/subtextures/6b93_helmet__black/"
																																																											</code>
																																																											.<br>
																																																											<img src="../../../assets/images/character_builder/import8.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																																																											</p>
																																																											<h3>
																																																												General Information
																																																											</h3>
																																																											<h4>
																																																												Root directories list
																																																											</h4>
																																																											<p>
																																																												assets, docs, src
																																																											</p>
																																																											<h4>
																																																												Nodes
																																																											</h4>
																																																											<p>
																																																												<a class="a_simple" href="./scripts/character_builder_utilities.html">
																																																													CharacterBuilderUtilities
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/character_builder.html">
																																																													character_builder
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/character.html">
																																																													character
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/material_export.html">
																																																													material_export
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/camera_control.html">
																																																													camera_control
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/rotation_cam_control.html">
																																																													rotation_cam_control
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/text_log.html">
																																																													text_log
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/character_part.html">
																																																													CB_CharacterPart
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/character_detail.html">
																																																													CB_CharacterDetail
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/material_placement.html">
																																																													material_placement
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/texture_field.html">
																																																													texture_field
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/character_part_selector.html">
																																																													character_part_selector
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/material_combiner.html">
																																																													material_combiner
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/character_parts_list.html">
																																																													character_parts_list
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/character_selector.html">
																																																													character_selector
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/editor_UI.html">
																																																													editor_UI
																																																												</a>
																																																											</p>
																																																											<h4>
																																																												Classes
																																																											</h4>
																																																											<p>
																																																												<a class="a_simple" href="./scripts/character_builder_hit_body.html">
																																																													character_builder_hit_body
																																																												</a>
																																																											</p>
																																																											<h4>
																																																												Resources
																																																											</h4>
																																																											<p>
																																																												<a class="a_simple" href="./scripts/material_export_data.html">
																																																													CB_MaterialExportData
																																																												</a>
																																																												<br>
																																																												<a class="a_simple" href="./scripts/saved_character.html">
																																																													CB_SavedCharacter
																																																												</a>
																																																											</p>
																																																											<h4>
																																																												Other Scripts
																																																											</h4>
																																																											<p>
																																																												None
																																																											</p>
																																																										</div>
																																																									</div>
																																																								</center>
																																																								<script src="../../../assets/code_blocks.js">
																																																								</script>
																																																							</body>
																																																						</html>
