[gd_resource type="Resource" load_steps=2 format=2]

[ext_resource path="res://modules/doc_info/src/doc_info.gd" type="Script" id=1]

[resource]
script = ExtResource( 1 )
info = "//img:game_menu/main_example0.png

Like any other documentation page, this one will start with a story... So... This game didn't have a game menu for a long time... Honestly I didn't work that much with UI and it was rather frightening to make one. Either way, I decided to face the fear and actually make this game menu. I don't remember if it was my first work on UI, but if you take a look into source code and fucking tell that this is my first attempt into UI. It's a mess. It's horrible. I hate it. I want to refactor it. For some reason I still didn't do that. Maybe because I still don't give a shit about a game menu? Oh yeah sure... I can whine here as much as I'd like, but either way I write that page to be somewhat useful for you, dear reader. Mainly, this page is about telling you how to survive in that horrible mess I call a \"game menu\". Looks fancy outside, but don't you dare to look inside...

Any future of \"the script\" are referring to [p]res://modules/game_menu/src/ui/main_control.gd[/p]

[bc]General Implementation[/bc]
//img:game_menu/scene_tree0.png
[r]Do not repeat at home[/r]
This game menu implementation is using a famous UI development pattern that is also known as \"Clusterfuck of nodes\". Just nodes. Nodes. Nodes... Layers after layers... [p]res://modules/game_menu/src/ui/main_control.gd[/p] is practically just having a bunch of functions that are called by signals connected in editor while editing the scene [p]res://modules/game_menu/assets/ui_scene/game_menu.tscn[/p] It quite literally is just a clusterfuck of nodes. If you know how to work with [gd]Control[/gd] derived nodes and Godot UI in general, you can already do something with this game menu. However... There might be some things to point out anyway, just for ease of future editing.

[bc]Small Nodes[/bc]
There's a bunch of \"small\" nodes that deserve their own section here. They are called \"small\" due to their very simplistic functionality, like, there's nothing complex at all.
//img:game_menu/scene_tree1.png
The following nodes I treat as \"small\", \"simple\" ones. Yes. Exactly like that. You can have your own opinion regarding this. Why wouldn't you have a different opinion about small things anyway?

[c]Nodes[/c]
[p]background[/p] - A simple texture rect for background of the main menu. It's basically just vignette with video degradation effect.
[p]background_old[/p] - An older implementation of background. Due to introduction of \"Gamma Correction\", I decided to \"temporarily\" replace it with [p]background[/p] and as you can understand, that's one of those cases when temporary solution turned out to be permanent.
[p]discord[/p] - A button that opens a Discord invite link to join \"Index Project\" Discord server.
[p]reddit[/p] - A button that opens a Reddit page that Bender has made for lulz.
[p]news[/p] - A button that opens a patch notes news page in game menu.
[p]email[/p] - A button that copies an email of Index Project into clipboard.
[p]notes[/p] - Notes by Bender himself, yeah, these are optional and can be enabled in settings of game menu. Keep in mind that \"notes UI\" is only made for this game menu.
[p]email_showup[/p] - A showup panel that shows when a mouse cursor is hovering over [p]email[/p] button, shows Index Project email.
[p]email_copied_showup[/p] - A showup panel that shows up when an [p]email[/p] button is clicked, it says [p]Copied![/p]
[p]achievement_tooltip[/p] and [p]save_tooltip[/p] - These are just tooltips for the corresponding menus.
[p]fade[/p] - A simple [gd]ColorRect[/gd] to fade the menu in/out.
[p]confirm_window[/p] - A simple confirmation window that you can call by using a [gd]show_confirm_window[/gd] method.
[p]block[/p] - A simple [gd]ColorRect[/gd] node with a fully transparent color. It blocks any mouse inputs. It is used by fading of the game menu to prevent usage of buttons. If it fades into black, it makes it impossible to click any buttons.

[bc]\"items\"[/bc]
It's not like items, but... buttons... Look, I'm confused here too, alright?
//img:game_menu/items0.png
Yeah, definitely buttons. So, there's no special magical logic regarding these buttons here, you just connect a signal to [p]main_control[/p] script and then you do whatever you want. Yeah. You just slap one more function into this fuck pile. Yeah. Absolutely.

[bc]\"tab_panel\"[/bc]
//img:game_menu/tab_panel0.png
\"tab_panel\" is a universal solution. That already should sound pretty shitty to you. Either way, \"tab_panel\" serves as a way to show some kind of content in a window. For the time being, it is used for the following \"panels\":
- Settings
- Credits
- Achievements
- Game save loading
- OST player
- Languages selection
- Patch notes news
Every single one of those might need their own section to be described better when it comes to their general implementation.

[bc]Panel: Settings[/bc]
//img:game_menu/panel_settings0.png
This is the biggest clusterfuck in this whole mess. This is the reason [p]main_control[/p] script is THAT huge. Settings. I love them, really, they give a possibility to cut the crap and make it run on potatos. It's a sweet option. Their implementation sucks ass, though, and you will have to deal with it. In this section, it is worth mentioning that:
- All that crap also just uses connection of signals to [p]main_control[/p] making the entire disaster even worse, but hey, I hope you love Italian food.
- Ignore the line above, turns out it doesn't use it here and I'll keep the line above just because I love references to Italian food.
- That thing still turns the code of [p]main_control[/p] into mess anyway, but it makes you feel the pain in a different, more sophisticated way.
The only reason you'd be *so interested* in this section is because you'd want to add a setting yourself. Firstly, think about it: Do you really want to add a setting? Really? Like, those settings that this game already has, isn't that *enough*? Are you sure? [r]Are you sure twice?[/r] I beg you, it's not a good idea to actually add a setting in this game. Please. Don't. This didn't stop you? What kind of person you are...

[bc]How to add your own setting into this fuck pile[/bc]
[wc]Find a node with an option value selection that fits your needs. If one exists - it's good, you can practically keep copy-pasting shit I've wrote already. If not - it's your problem now, you will write the rest all by yourself regretting your choices.[/wc]
//img:game_menu/guide_settings0.png
[wc]Then you just duplicate the node, rename some things in it, etc. After that go to [p]main_control[/p] and do Ctrl + F, find the source code of the thing you duplicated before, use its name as a keyword to find out the crappy source code I wrote.[/wc]
//img:game_menu/guide_settings1.png
//img:game_menu/guide_settings2.png
[wc]Starting from this point, you just copy-paste the code, change some of the names to your values and ta-da, you have your own option. Please, be aware to change the function name in [gd]options.connect(\"item_selected\", self, \"fps_counter_item_selected\")[/gd] to the name of your own function. Otherwise it might not work correctly.[/wc]
[gd]get_game_option_text[/gd] and [gd]get_graphics_option_text[/gd] methods are useful to get text value of selected settings in the corresponding settings panel. Other than that, you better look at the source code of other settings just to see what they did, cases are somewhat individual. I'd highly recommend to keep your setting values in [gd]Values[/gd] just string values, these are the simplest to work with.

[bc]Panel: Settings - Graphics[/bc]
//img:game_menu/settings_graphics0.png
Graphics settings are affecting visual effects that affect GPU and *may* affect CPU as well. Some of the things these settings do aren't solely \"graphical\" I'd say, but since a lot of players preferred to use a graphics menu only - it is now doing more than it was designed to. Sounds like a classic story, older than anyone reading this thing.
[c]List of graphics settings[/c]
[p]Preset[/p] - Changes preset to change a set of settings to a given quality group. Affects [gd]\"bloom_enabled\", \"motion_blur\", \"anti_aliasing_quality\", \"fxaa_enabled\", \"sun_shadow_quality\", \"sun_shadow_resolution\", \"shadow_filter_quality\", \"light_shadow_quality\", \"depth_quality\", \"particle_quality\", \"overall_detailing\", \"material_quality\", \"post_processing_quality\", \"character_quality\", \"geometry_quality\", \"props_amount\", \"water_quality\", \"viewmodel_hands_quality\", \"decal_quality\", \"lighting_quality\", \"auto_exposure\", \"physics_quality\", \"debris_amount\", \"NPC_amount\"[/gd] values.
[p]Resolution[/p] - Changes the game's resolution. Affects [p]window_resolution[/p] value.
[p]Fullscreen[/p] - Changes the fullscreen mode. Fun fact: You can also use Alt + Enter for this. It isn't, like, the \"real\" fullscreen mode, more like so-called \"windowed fullscreen mode\". Affects [p]window_fullscreen[/p] value.
[p]V-Sync[/p] - Vertical Synchronization, it says it all. Affects [p]vsync_enabled[/p] value.
[p]Display[/p] - Chooses which display to use for this game. Even if it is visible, it is supposed to be useful for multidisplay setups. Affects [p]display[/p] value.
[p]Field Of View[/p] - Regulates the player's field of view. Only regulates the camera's FOV, viewmodels are left untouched because I'm not going to tweak animations to make sure they aren't looking weird on high FOVs. Affects [p]FOV[/p] value.
[p]FPS Limit[/p] - FPS limiter value. Maximum of the frames that can be rendered per second. Affects [p]max_fps[/p] value.
[p]FPS Counter[/p] - Shows a simple FPS counter on top-right. Affects [p]display_debug_fps[/p] value.
[p]Debug Info[/p] - Debug information regarding performance... Look, I'm not sure why players would need it, but this is MY game and it was surely useful for me. Affects [p]display_debug_info[/p] value.
[p]Bloom[/p] - Toggles bloom post-processing effect. Affects [p]bloom_enabled[/p] value.
[p]Anti-Aliasing[/p] - Changes anti-aliasing quality or outright disables it. Affects [p]anti_aliasing_quality[/p] value.
[p]FXAA[/p] - Fast Approximate Anti-Aliasing. Turns your game into a blurry mess in attempt to do anti-aliasing. Much faster than MSAA, though, so it makes sense to have it in settings. Having this option enabled doesn't mean that it'll make your game any better. Seriously. Just a blurry mess. A glorified blurry mess. Affects [p]fxaa_enabled[/p] value.
[p]Color Grading[/p] - LUT Color Grading effect. Changes colors. You know, in a cinamatic manner. Especially when it is configured right... Either way, affects [p]color_grading[/p] value.
[p]Gamma[/p] - Changes gamma. It's like... brightness... with extra steps... Man, can't you just use the damn setting to see it yourself? It just affects [p]gamma_value[/p], that's all you have to know.
[p]Brightness[/p] - Changes brightness of the entire game's view. Affects [p]gamma_brightness[/p] value.
[p]Contrast[/p] - Changes contrast of the entire game's view. Affects [p]gamma_contrast[/p] value.
[p]Saturation[/p] - Changes saturation of the entire game's view. Affects [p]gamma_saturation[/p] value.
[p]Sharpen[/p] - Changes sharpness of the entire game's view image. Affects [p]gamma_sharpen[/p] value.
[p]Texture Quality - Locations[/p] - Changes texture quality of all location textures. Affects [p]location_texture_quality[/p] value.
[p]Texture Quality - Characters[/p] - Changes texture quality of all characters. Affects [p]character_texture_quality[/p] value.
[p]Texture Quality - Viewmodels[/p] - Changes texture quality of all viewmodels. Affects [p]viewmodel_texture_quality[/p] value.
[p]Sun Shadow Quality[/p] - Changes the quality of directional light's shadows. Affects [p]sun_shadow_quality[/p] value.
[p]Sun Shadow Resolution[/p] - Changes the resolution of directional light's shadows. Affects [p]sun_shadow_resolution[/p] value.
[p]Shadow Filter Quality[/p] - Changes the shadow filter quality for all shadowmaps. Affects [p]shadow_filter_quality[/p] value.
[p]Light Shadow Quality[/p] - Changes the shadow quality of all shadowmaps. This one seems to work weirdly, though. Affects [p]light_shadow_quality[/p] value.
[p]Depth Quality[/p] - TURN YOUR GAME INTO CRUELTY SQUAD. TEAR A HOLE IN THE DEPTH QUALITY. FUCK THE DEPTH QUALITY. Affects [p]depth_quality[/p] value.
[p]Geometry Quality[/p] - Affects the distance of appearance of LOD variants of the models. Affects [p]geometry_quality[/p] setting.
[p]Depth Prepass[/p] - Toggles depth prepass... Well I'm not quite sure if it is even needed as a setting, but let it be here. Affects [p]depth_prepass[/p] value.
[p]Overall Detailing[/p] - This one. This one isn't just a setting. It's a whole fucking replacement of that mess I had in a game settings. A whole damn clusterfuck of settings to change here. All of them are *basically* related to wasteful settings that can harm CPU/GPU performance severely, depending on your hardware. Affects [p]overall_detailing[/p] setting that is affecting [gd]\"human_shooting_light\", \"human_footsteps\", \"human_battle_phrases\", \"human_smooth_shoot_sound\", \"left_hand_animation\", \"in_sight_animation\", \"viewmodel_close_surface_check\", \"bullet_trails\", \"bullet_trail_light\", \"env_reverb\", \"soundscape_random_sounds\", \"bullet_process_water\", \"bullet_process_glass\", \"bullet_shoot_event\", \"player_camera_walk_anim\", \"player_camera_suppression_anim\", \"player_camera_explosion_anim\", \"player_low_health_anim\", \"player_camera_damage_anim\", \"viewmodel_casings\", \"viewmodel_fire_light\"[/gd] values.
[p]Particle Quality[/p] - Quality of the particles, usually being a fucked up reason of GPU overdrawing that leads to even fucking worse performance. Oh yes, I know, I know about the particles being trash in performance, you easily fix that by removing them entirely. Affects [p]particle_quality[/p] value.
[p]Material Quality[/p] - A setting that fucks up material real good. They were PBR, right? With all the fancy shit? So it basically strips down the PBR and turns it into diffuse-only materials. Fucking beautiful. It cuts down for about 30-40% of OpenGL operations. Saves your GPU. Affects [p]material_quality[/p] value.
[p]Post-Processing Quality[/p] - Strips down post-processing effects by using their hand-written low-quality shitty version of them. Saves some shader processing, but for what reason? Don't your iGPU like reading an already existing mipmap with blurred variations of the screen? Oh, actually, it doesn't like it. Affects [p]post_processing_quality[/p] value.
[p]Character Quality[/p] - Affects apperance of LOD version of [gd]HumanModel[/gd] if one exists for a model. On low it shows LOD variation all the time. Affects [p]character_quality[/p] value.
[p]Props Amount[/p] - Cuts down all the fancy shit from locations in form of any location meshes ([gd]LocationProp, LocationBlockoutMesh, LocationMeshCombiner[/gd]) to make your crap run faster. Behavior of such meshes are manually configured. It's not even only about visual stuff, it also helps to cut down the physics too. Is it cruel? [r]Yes.[/r] Is it working? [c]For fucking sure.[/c] Affects [p]props_amount[/p] value.
[p]Water Quality[/p] - Changes the quality of the water shader. Affects [p]water_quality[/p] value.
[p]Viewmodel Hands Quality[/p] - Changes the quality of the viewmodel hands if one exists for the current set of viewmodel hands. Affects [p]viewmodel_hands_quality[/p] value.
[p]Decal Quality[/p] - Changes the quality of newly created decals (blood, bullet hits, etc). On high uses projected decals (which can be a bit expensive, even though accurate), on medium it creates a simple quad (fast, inaccurate), on low it doesn't create anything (very fast and fucking disappointing). Affects [p]decal_quality[/p] value.
[p]Lighting Quality[/p] - Changes the quality of lighting. Usually affects the amount of lights, their rendering distance, etc. Affects [p]lighting_quality[/p] value.
[p]Physics Quality[/p] - Changes the quality of physics. It's not like it's changing anything that drastically. Mostly it is used to make static bodies detection of surfaces (which requires separate set of [gd]StaticBody[/gd] nodes) less accurate (by replacing with just one generic-typed node). Affects [p]physics_quality[/p] value.
[p]Debris Amount[/p] - Changes the overall amount of debris. Debris is kinda impactful when it comes to physics so their amount is given to be controlled. It is possible to go beyond the limit and get your PC cooked, if you *really* want. Affects [p]debris_amount[/p] value.
[p]NPC Amount[/p] - Controls the amount of NPCs on the location. Each NPC spawn is manually configured. On \"low\" it simply disables spawn of NPC spawns that are supposed to spawn on \"high\" settings only. Helps to drastically optimize CPU use because NPCs are unoptimized pieces of shit that I love using in huge quantities despite that. Affects [p]NPC_amount[/p] value.

[bc]Panel: Settings - Game[/bc]
//img:game_menu/settings_game0.png
Game settings earlier had a shitton of game settings to control the intensity of the CPU/GPU usage. Now a lot of those settings were moved into [p]Overall Detailing[/p] setting to not flooding the space up in there while being easily accessible, especially given the fact many of those settings are clearly visual/visceral in their nature (related to animation, smoothing, etc).
[p]Game[/p] - A useless setting that was added as a joke from Elenakrittik. I mean. You can disable *everything* to make that game run on your potatos. It feels like disabling a game for yourself. [r]Fun is not included.[/r]
[p]Instant Usage[/p] - Instant usage. Yes yes yes. Exactly. Okay, if we take it a bit seriously... This setting works together with left-hand animations. If there are left-hand animations, used objects aren't really used immediately, but after 0.2 seconds timer, waiting for the animation to get to the state when hiding a weapon wouldn't make it look bad. It might make the game a bit less responsive and therefore become a reason for somebody to configure it to be disabled. Oh yes, sometimes I can think about others, surprisingly. Affects [p]instant_usage[/p] value.
[p]Game Menu Notes[/p] - Bender's notes, but in a game menu. Disabled by default because I wouldn't let him to conquer my own game too much :) Affects [p]game_menu_note[/p] value.
[p]Loading Notes[/p] - Bender's notes during a location loading screen.  Enabled by default because loading screen notes are essential. Affects [p]loading_note[/p] value.
[p]Ragdoll - Time to Disappear[/p] - Regulates the time of removal of ragdolls. Affects [p]ragdoll_disappear_time[/p] value.
[p]Ragdoll - Limit Amount[/p] - Regulates the maximum amount of co-existing ragdolls. Affects [p]ragdoll_limit[/p] value.
[p]Dropped Weapon Removal Time[/p] - Time of removal of all those dropped weapons of dead NPCs. Keep in mind, weapons dropped by the player himself last forever. Affects [p]dropped_weapon_removal_time[/p] value.
[p]Ragdoll - Keep Unique[/p] - Instead of reusing NPC's ragdoll for optimization, this setting allows enabling the ultimate \"let the bodies hit the floor\" mode where ragdoll instances are truly unique. Keep in mind, this setting isn't really optimized and... I don't give a shit really. Just take it. Affects [p]keep_ragdolls[/p] value.
[p]Player - Legs[/p] - Allows you to cut your own legs off :) Affects [p]player_legs[/p] value.
[p]Player - Viewbobbing[/p] - Allows you to not experience motion sickness. Affects [p]player_viewbobbing[/p] value.
[p]Crosshair - Visibility[/p] - Toggles visibility of the entire crosshair. I'm not sure how you'd be playing this game, but let's assume that you love hardcore shooters, for some reason. Affects [p]crosshair_visible[/p] value.
[p]Crosshair - Hit Marker[/p] - Toggles hit marker of crosshair that shows up when you damage anything. Affects [p]crosshair_hit_marker[/p].
[p]Crosshair - Death Marker[/p] - Toggles death marker of crosshair that shows up when you kill a character. Affects [p]crosshair_death_marker[/p].
[p]Crosshair - Hit Sound[/p] - Toggles the hit sound that plays when you damage literally anything. It is disabled by default because it was bothering me, but somebody else found it nice to have so... Fuck it, here's that setting that affects [p]crosshair_hit_sound[/p] value.
[p]Crosshair - Death Sound[/p] - Toggles the death sound when you kill somebody, a very bassy hit sound. Affects [p]crosshair_death_sound[/p] value.
[p]Crosshair - Health Data[/p] - Toggles the health info HUD that was added because damage didn't really feel like damage I don't know just take it. It is enabled by default because it is cool. You can disable it if you feel like it is too much of a handholding for your buffy ass. Affects [p]crosshair_health_data[/p] value.

[bc]Panel: Settings - Input[/bc]
//img:game_menu/settings_input0.png
A panel with inputs. I mean. Yeah, it is self-explanatory, isn't it? Just mouse sensitivity, a bunch of checkboxes added for lulz, a reset button and a bunch of keybinds.
[p]Mouse Sensitivity[/p] - A slider that simply changes [p]mouse_sensitivity[/p] value.
[p]Toggle Crouch[/p] - A setting that makes it possible to press a crouch button once to crouch until you press it again. Toggles [p]toggle_crouch[/p] value.
[p]Toggle Sprint[/p] - A setting to press a sprint button once to sprint until you press it again. Toggles [p]toggle_sprint[/p] value.
[p]Toggle Aim[/p] - Press an aim button once to aim until you press it again. Toggles [p]toggle_aim[/p] value.
[p]Invert Mouse X[/p] - Inverts horizontal mouse look. Toggles [p]invert_mouse_x[/p] value.
[p]Invert Mouse Y[/p] - Inverts vertical mouse look. Toggles [p]invert_mouse_y[/p] value.
[p]Reset[/p] - A reset button that shows a confirmation window to later to call [gd]reset_input_accept[/gd] method.
[p]Keybinds[/p] - This one is interesting... This one deserves a whole damn section :)

[bc]Keybinds[/bc]
//img:game_menu/settings_keybinds0.png
Keybinds are initialized in [gd]initialize_settings[/gd]. Yes. Somewhere on the line... 1983? Either way, just search for a comment [gd]# INPUT REMAPPING[/gd] and you'll be fine. Yes, it is a huge function. Yes I could just split it to smaller functions so I wouldn't fuck with your mind now. Yes, I don't give a shit and this won't ever be edited by me. Just use a damn [Ctrl + F] god dammit.
//img:game_menu/settings_keybinds1.png
If you want to add a new keybind, you just edit the script and add your new fancy keybind into [gd]inputs[/gd] dictionary. I know. Very extensible design. Do not whine about it. [gd]\"console_toggle\" : \"Developer Console\"[/gd] - key is the input action name, value is the display name you can see in the menu. Simple.

[bc]Panel: Settings - Sound[/bc]
//img:game_menu/settings_sound0.png
Sound settings. You know what it means.
[p]Reset[/p] - Shows a confirmation window that later calls [gd]reset_sound_accept[/gd]
[p]Master[/p] - Master channel, the overall game's volume. Edits [p]master_volume[/p] value.
[p]Music[/p] - Music channel, the music's volume. Edits [p]music_volume[/p] value.
[p]Music - Battle[/p] - Music channel, but for the \"battle\" music. Edits [p]music_battle_volume[/p] value.
[p]Environment[/p] - Environment channel, soundscapes, gunfire, etc. Edits [p]env_volume[/p] value.
[p]Voicelines[/p] - Voicelines and voicemess. Edits [p]voiceline_volume[/p] value.

[bc]Panel: Settings - Language[/bc]
//img:game_menu/settings_language0_button.png
//img:game_menu/settings_language0.png
Yeah so... There was a button for a language menu in the \"items\" node, but then Bender started to complain about the sheer amount of those buttons in there, so I had to move it into settings. Sounds nice, right? You definitely needed to know about this. I know you do. Either way, the list of those languages is filled automatically by checking the list of files of those .json files in [p]localization[/p] folder. One thing that you need to know is that [p]__original_text.json[/p] is listed as \"Runglish\" and [p]EnglishFix.json[/p] is listed as [p]English[/p] in the menu. Otherwise languages are listed as their original .json filenames.

I hate how long it took me to cover all the settings :(

[bc]Achievements[/bc]
//img:game_menu/achievements0.png
An achievements menu is kinda simple. Initialization happens in [gd]initialize_achievements_tab[/gd], tab changes are processed in [gd]achievement_on_tab_change[/gd]. It lists all the achievements, however, the \"secret\" achievements are only initialized when they are unlocked. Oh, yeah, every time you press [p]Achievements[/p] tab button, it will update show the updated menu. So... If you had that menu opened and got an achievement unlocked only after that, this menu won't update itself. I mean yeah it can be fixed. I mean, yeah, I also don't give a shit.

[bc]OST[/bc]
//img:game_menu/OST0.png
An OST menu. Might be a little excessive for this game, given the fact it doesn't really have that kind of revolutionary soundtrack that everybody would like to listen instead of playing this game. But you know? I don't really care because it was fun to work on. It is using quite a bunch of methods: [gd]on_OST_position_changed, on_OST_volume_changed, on_OST_finished, OST_play, OST_pause, OST_stop, update_OST_panel, get_OST_time_text, play_OST[/gd]. [p]res://modules/game_menu/assets/OST/[/p] contains all the soundtracks in .mp3 format. All the initialization is happening in [gd]update_OST_panel[/gd] function. There's one thing to cover though...
[gd]
.
├── 0_1_1_files.mp3
├── 0_1_1_files.mp3.import
├── 0_1_2_ReaadyGodySte.mp3
├── 0_1_2_ReaadyGodySte.mp3.import
├── 0_1_loading_v2.mp3
├── 0_1_loading_v2.mp3.import
├── 0_2_dead_or_alive.mp3
├── 0_2_dead_or_alive.mp3.import
├── 0_eternal_conflict.mp3
├── 0_eternal_conflict.mp3.import
├── 10_collapse.mp3
├── 10_collapse.mp3.import
├── 11_moments_to_death.mp3
├── 11_moments_to_death.mp3.import
├── 1_1_tutorial.mp3
├── 1_1_tutorial.mp3.import
├── 12_blood_loss.mp3
├── 12_blood_loss.mp3.import
├── 13_mall_nightmare.mp3
├── 13_mall_nightmare.mp3.import
├── 14_empty_halls.mp3
├── 14_empty_halls.mp3.import
├── 1_first_iteration.mp3
├── 1_first_iteration.mp3.import
├── 2_1_no_choice.mp3
├── 2_1_no_choice.mp3.import
├── 2_2_encrypted_session.mp3
├── 2_2_encrypted_session.mp3.import
├── 2_questionable_choices.mp3
├── 2_questionable_choices.mp3.import
├── 3_waiting.mp3
├── 3_waiting.mp3.import
├── 4_omega_security_presentation.mp3
├── 4_omega_security_presentation.mp3.import
├── 5_corporate_terrorism.mp3
├── 5_corporate_terrorism.mp3.import
├── 6_senseless_murder.mp3
├── 6_senseless_murder.mp3.import
├── 7_constant_alarm.mp3
├── 7_constant_alarm.mp3.import
├── 8_1_mad_mode.mp3
├── 8_1_mad_mode.mp3.import
├── 8_2_HCS-S_mode.mp3
├── 8_2_HCS-S_mode.mp3.import
├── 8_first_contact.mp3
├── 8_first_contact.mp3.import
├── 9_get_inn_arena.mp3
└── 9_get_inn_arena.mp3.import
[/gd]
You may notice those weird numbers in the beginning of file names. I use it as a weird way to sort the positioning in the playlist. I know, it's weird, but it works. Keep in mind that those numbers are ignored entirely and filename is used for the display naming in the menu. Oh wait, why does [p]1_[/p] goes after [p]10_[/p]?...

[bc]Credits[/bc]
//img:game_menu/credits0.png
Credits. Just a simple [gd]RichTextLabel[/gd] with a bunch of effects and all. It has no initialization in code and the only code written for this thing is just about switching tabs.

[bc]New Game[/bc]
//img:game_menu/new_game0.png
Start a new game yes yes yes. Alright. It might not be as easy to explain because this thing is kinda broken. Firstly, if you wonder how difficulties selection works... It's pretty simple.

//img:game_menu/new_game_nodes0.png
//img:game_menu/new_game_nodes1.png
Tada, now you can connect dots between 2 + 2 and add your own difficulty :)
Alright, you'd need to edit some other scripts to do that, but... It is what it is. It's not really a topic of this documentation page, so I won't cover it here, especially because I doubt that this game would need any other difficulties except those it has now.

When you start a new game - you are getting redirected to a functional location that is [p]func_new_game[/p]. When you enter this location, a logic script located at [p]res://locations/scenes/logic/func_main_menu.gd[/p] will be runned and then the new game starts basically. Effectively broken modern solution for an ancient problem.

I hope you had fun reading about this game menu."
info_rus = "//img:game_menu/main_example0.png

Как и любая другая страница документации, эта начнётся с истории... Итак... В этой игре долгое время не было игрового меню... Честно говоря, я не так много работал с UI, и создавать его было rather пугающе. Так или иначе, я решил встретиться со страхом лицом к лицу и actually сделать это игровое меню. Я не помню, была ли это моя первая работа с UI, но если вы загляните в исходный код и нахуй скажете, что это моя первая попытка в UI... Это беспорядок. Это ужасно. Я ненавижу это. Я хочу переписать это. По какой-то причине я всё ещё этого не сделал. Может быть, потому что мне всё ещё плевать на игровое меню? О, да, конечно... Я могу хныкать здесь сколько угодно, но так или иначе я пишу эту страницу, чтобы она была чем-то полезной для тебя, дорогой читатель. В основном эта страница о том, как выжить в том ужасном беспорядке, который я называю \"игровое меню\". Выглядит круто снаружи, но не смей заглядывать внутрь...

Любые будущие упоминания \"скрипта\" относятся к [p]res://modules/game_menu/src/ui/main_control.gd[/p]

[bc]Общая реализация[/bc]
//img:game_menu/scene_tree0.png
[r]Не повторяйте дома[/r]
Эта реализация игрового меню использует знаменитый паттерн разработки UI, также известный как \"Clusterfuck of nodes\". Просто узлы. Узлы. Узлы... Слои за слоями... [p]res://modules/game_menu/src/ui/main_control.gd[/p] - это просто куча функций, которые вызываются сигналами, подключёнными в редакторе при редактировании сцены [p]res://modules/game_menu/assets/ui_scene/game_menu.tscn[/p]. Это буквально просто \"clusterfuck\" узлов. Если ты знаешь, как работать с узлами, производными от [gd]Control[/gd], и с UI Godot в целом, ты уже можешь что-то сделать с этим игровым меню. Однако... Возможно, всё равно стоит кое-что указать, просто для лёгкости будущего редактирования.

[bc]Мелкие узлы[/bc]
Есть куча \"мелких\" узлов, которые заслуживают своего собственного раздела здесь. Они называются \"мелкими\" из-за их очень простой функциональности, типа, там нет ничего сложного.
//img:game_menu/scene_tree1.png
Следующие узлы я рассматриваю как \"мелкие\", \"простые\". Да. Именно вот так. У тебя может быть своё собственное мнение относительно этого. Почему бы тебе не иметь другое мнение о мелочах в любом случае?

[c]Узлы[/c]
[p]background[/p] - Простой TextureRect для фона главного меню. Это просто виньетка с эффектом \"деградации\" видео.
[p]background_old[/p] - Более старая реализация фона. Из-за введения \"Gamma Correction\" я решил \"временно\" заменить его на [p]background[/p], и, как ты можешь понять, это один из тех случаев, когда временное решение оказалось постоянным.
[p]discord[/p] - Кнопка, открывающая пригласительную ссылку Discord для присоединения к серверу Discord \"Index Project\".
[p]reddit[/p] - Кнопка, открывающая страницу Reddit, которую Bender сделал для лулзов.
[p]news[/p] - Кнопка, открывающая страницу новостей патчей в игровом меню.
[p]email[/p] - Кнопка, копирующая email Index Project в буфер обмена.
[p]notes[/p] - Заметки самого Bender, да, они опциональны и могут быть включены в настройках игрового меню. Имей в виду, что \"notes UI\" сделано только для этого игрового меню.
[p]email_showup[/p] - Панель показа, которая появляется, когда курсор мыши наводится на кнопку [p]email[/p], показывает email Index Project.
[p]email_copied_showup[/p] - Панель показа, которая появляется, когда нажимается кнопка [p]email[/p], она говорит [p]Скопировано![/p]
[p]achievement_tooltip[/p] и [p]save_tooltip[/p] - Это просто всплывающие подсказки для соответствующих меню.
[p]fade[/p] - Простой [gd]ColorRect[/gd] для затемнения меню in/out.
[p]confirm_window[/p] - Простое окно подтверждения, которое ты можешь вызвать, используя метод [gd]show_confirm_window[/gd].
[p]block[/p] - Простой узел [gd]ColorRect[/gd] с полностью прозрачным цветом. Он блокирует любые вводы мыши. Он используется при затемнении игрового меню, чтобы предотвратить использование кнопок. Если оно затемняется до чёрного, это делает невозможным нажатие любых кнопок.

[bc]\"items\"[/bc]
Это не совсем items, но... кнопки... Смотри, я тоже тут запутался, ладно?
//img:game_menu/items0.png
Да, точно кнопки. Итак, здесь нет специальной магической логики относительно этих кнопок, ты просто подключаешь сигнал к скрипту [p]main_control[/p], а затем делаешь всё, что захочешь. Да. Ты просто добавляешь ещё одну функцию в эту ебаную кучу. Да. Абсолютно.

[bc]\"tab_panel\"[/bc]
//img:game_menu/tab_panel0.png
\"tab_panel\" - это универсальное решение. Это уже должно звучать довольно дерьмово для тебя. Так или иначе, \"tab_panel\" служит способом показать какой-либо контент в окне. На данный момент он используется для следующих \"панелей\":
- Настройки
- Титры
- Достижения
- Загрузка сохранений игры
- Плеер OST
- Выбор языков
- Новости патчей
Каждая из них может потребовать своего собственного раздела для лучшего описания их общей реализации.

[bc]Панель: Настройки[/bc]
//img:game_menu/panel_settings0.png
Это самый большая ебаная куча во всём этом беспорядке. Это причина, по которой скрипт [p]main_control[/p] ТАКОЙ огромный. Настройки. Я люблю их, они дают возможность не мучиться и запускать игру на картошке. Это сладкая опция. Их реализация сосёт, и тебе придётся с этим иметь дело. В этом разделе стоит упомянуть, что:
- Вся эта хрень так же просто использует подключение сигналов к [p]main_control[/p], делая всю катастрофу ещё хуже, но эй, я надеюсь, ты любишь итальянскую еду.
- Игнорируй строку выше, оказывается, здесь это не используется, и я оставлю строку выше просто потому, что люблю отсылки к итальянской еде.
- Эта штука всё равно превращает код [p]main_control[/p] в беспорядок, но она заставляет тебя чувствовать боль по-другому, более sophisticated способом.
Единственная причина, по которой ты *будешь так заинтересован* в этом разделе, это если ты захочешь добавить свою собственную настройку. Во-первых, подумай: Ты реально хочешь добавить настройку? Реально? Типа, тех настроек, которые уже есть в этой игре, разве этого *не достаточно*? Ты уверен? [r]Ты уверен дважды?[/r] Умоляю тебя, это не хорошая идея добавлять настройку в эту игру. Пожалуйста. Не надо. Это тебя не остановило? Что ты за человек...

[bc]Как добавить свою собственную настройку в эту ебаную кучу[/bc]
[wc]Найди узел с выбором значения опции, который подходит твоим нуждам. Если такой существует - это хорошо, ты можешь практически продолжать копипастить это дерьмо, который я уже написал. Если нет - это теперь твоя проблема, ты напишешь остальное полностью самостоятельно, сожалея о своих выборах.[/wc]
//img:game_menu/guide_settings0.png
[wc]Затем ты просто дублируешь узел, переименовываешь некоторые вещи в нём и т.д. После этого зайди в [p]main_control[/p] и сделай Ctrl + F, найди исходный код того, что ты дублировал прежде, используй его имя как ключевое слово, чтобы найти дерьмовый исходный код, который я написал.[/wc]
//img:game_menu/guide_settings1.png
//img:game_menu/guide_settings2.png
[wc]Начиная с этого момента, ты просто копипастишь код, меняешь некоторые имена на свои значения и та-да, у тебя есть твоя собственная опция. Пожалуйста, будь внимателен, чтобы изменить имя функции в [gd]options.connect(\"item_selected\", self, \"fps_counter_item_selected\")[/gd] на имя твоей собственной функции. Иначе это может работать некорректно.[/wc]
Методы [gd]get_game_option_text[/gd] и [gd]get_graphics_option_text[/gd] полезны для получения текстового значения выбранных настроек в соответствующей панели настроек. Кроме того, тебе лучше посмотреть на исходный код других настроек, просто чтобы увидеть, что они сделали, случаи всяко индивидуальны. Я бы крайне рекомендовал хранить значения твоих настроек в [gd]Values[/gd] просто как string значения, с ними проще всего работать.

[bc]Панель: Настройки - Графика[/bc]
//img:game_menu/settings_graphics0.png
Настройки графики влияют на визуальные эффекты, которые затрагивают GPU и *могут* затрагивать так же процессор. Некоторые из вещей, которые делают эти настройки, не являются только \"графическими\", я бы сказал, но поскольку многие игроки предпочли использовать только меню графики - оно теперь делает больше, чем для чего было сделано . Звучит как классическая история, старее любого, читающего эту штуку.
[c]Список настроек графики[/c]
[p]Пресет[/p] - Меняет пресет для изменения набора настроек на заданную группу качества. Влияет на значения [gd]\"bloom_enabled\", \"motion_blur\", \"anti_aliasing_quality\", \"fxaa_enabled\", \"sun_shadow_quality\", \"sun_shadow_resolution\", \"shadow_filter_quality\", \"light_shadow_quality\", \"depth_quality\", \"particle_quality\", \"overall_detailing\", \"material_quality\", \"post_processing_quality\", \"character_quality\", \"geometry_quality\", \"props_amount\", \"water_quality\", \"viewmodel_hands_quality\", \"decal_quality\", \"lighting_quality\", \"auto_exposure\", \"physics_quality\", \"debris_amount\", \"NPC_amount\"[/gd].
[p]Разрешение[/p] - Меняет разрешение игры. Влияет на значение [p]window_resolution[/p].
[p]Полноэкранный режим[/p] - Меняет режим полноэкранного режима. Забавный факт: Ты также можешь использовать Alt + Enter для этого. Это не, типа, \"реальный\" полноэкранный режим, больше похоже на так называемый \"полноэкранный режим в окне\". Влияет на значение [p]window_fullscreen[/p].
[p]Вертикальная синхронизация[/p] - Вертикальная синхронизация, это говорит само за себя. Влияет на значение [p]vsync_enabled[/p].
[p]Дисплей[/p] - Выбирает, какой дисплей использовать для этой игры. Даже если это видимо, это предполагается полезным для многодисплейных сетапчиков. Влияет на значение [p]display[/p].
[p]Поле зрения[/p] - Регулирует поле зрения игрока. Регулирует только FOV камеры, вьюмодели остаются нетронутыми, потому что я не собираюсь переделывать анимации, чтобы убедиться, что они не выглядят странно на высоких FOV. Влияет на значение [p]FOV[/p].
[p]Ограничение FPS[/p] - Значение ограничителя FPS. Максимум кадров, которые могут быть отрендерены в секунду. Влияет на значение [p]max_fps[/p].
[p]Счётчик FPS[/p] - Показывает простой счётчик FPS вверху справа. Влияет на значение [p]display_debug_fps[/p].
[p]Отладочная информация[/p] - Отладочная информация относительно производительности... Смотри, я не уверен, зачем игрокам это нужно, но это МОЯ игра, и это конечно было полезно для меня. Влияет на значение [p]display_debug_info[/p].
[p]Свечение[/p] - Включает/выключает пост-обработочный эффект bloom. Влияет на значение [p]bloom_enabled[/p].
[p]Сглаживание[/p] - Меняет качество сглаживания или отключает его. Влияет на значение [p]anti_aliasing_quality[/p].
[p]Быстрое приближённое сглаживание[/p] - Быстрое приближённое сглаживание. Превращает твою игру в размытое месиво в попытке сделать сглаживание. Намного быстрее, чем MSAA, though, так что имеет смысл иметь это в настройках. Включение этой опции не означает, что это сделает твою игру как бы лучше. Серьёзно. Просто размытое месиво. Прославленное размытое месиво. Влияет на значение [p]fxaa_enabled[/p].
[p]Цветокоррекция[/p] - Эффект цветокоррекции LUT. Меняет цвета. Ты знаешь, кинематографическим образом. Особенно когда это настроено правильно... Так или иначе, влияет на значение [p]color_grading[/p].
[p]Гамма[/p] - Меняет гамму. Это как... яркость... с дополнительными ступенями... Чувак, разве ты не можешь просто использовать чёртову настройку, чтобы увидеть это самому? Это просто влияет на [p]gamma_value[/p], вот и всё, что тебе нужно знать.
[p]Яркость[/p] - Меняет яркость всего вида игры. Влияет на значение [p]gamma_brightness[/p].
[p]Контрастность[/p] - Меняет контрастность всего вида игры. Влияет на значение [p]gamma_contrast[/p].
[p]Насыщенность[/p] - Меняет насыщенность всего вида игры. Влияет на значение [p]gamma_saturation[/p].
[p]Резкость[/p] - Меняет резкость изображения всего вида игры. Влияет на значение [p]gamma_sharpen[/p].
[p]Качество текстур - Локации[/p] - Меняет качество текстур всех локаций. Влияет на значение [p]location_texture_quality[/p].
[p]Качество текстур - Персонажи[/p] - Меняет качество текстур всех персонажей. Влияет на значение [p]character_texture_quality[/p].
[p]Качество текстур - Вьюмодели[/p] - Меняет качество текстур всех вьюмоделей. Влияет на значение [p]viewmodel_texture_quality[/p].
[p]Качество теней солнца[/p] - Меняет качество теней направленного света. Влияет на значение [p]sun_shadow_quality[/p].
[p]Разрешение теней солнца[/p] - Меняет разрешение теней направленного света. Влияет на значение [p]sun_shadow_resolution[/p].
[p]Качество фильтра теней[/p] - Меняет качество фильтра теней для всех теневых карт. Влияет на значение [p]shadow_filter_quality[/p].
[p]Качество теней света[/p] - Меняет качество теней всех теневых карт. Эта, however, работает странно. Влияет на значение [p]light_shadow_quality[/p].
[p]Качество глубины[/p] - ПРЕВРАТИ СВОЮ ИГРУ В CRUELTY SQUAD. ПРОРВИ ДЫРУ В КАЧЕСТВЕ ГЛУБИНЫ. НАХУЙ КАЧЕСТВО ГЛУБИНЫ. Влияет на значение [p]depth_quality[/p].
[p]Качество геометрии[/p] - Влияет на расстояние появления LOD вариантов моделей. Влияет на настройку [p]geometry_quality[/p].
[p]Препасс глубины[/p] - Включает/выключает препасс глубины... Ну, я не совсем уверен, нужна ли эта даже как настройка, но пусть будет здесь. Влияет на значение [p]depth_prepass[/p].
[p]Общая детализация[/p] - Эта. Эта не просто настройка. Это целая нахуй замена того беспорядка, который у меня был в настройках игры. Целая чёртова ебаная куча настроек для изменения здесь. Все они *по сути* связаны с расточительными настройками, которые могут severely навредить производительности CPU/GPU, в зависимости от твоего железа. Влияет на настройку [p]overall_detailing[/p], которая влияет на значения [gd]\"human_shooting_light\", \"human_footsteps\", \"human_battle_phrases\", \"human_smooth_shoot_sound\", \"left_hand_animation\", \"in_sight_animation\", \"viewmodel_close_surface_check\", \"bullet_trails\", \"bullet_trail_light\", \"env_reverb\", \"soundscape_random_sounds\", \"bullet_process_water\", \"bullet_process_glass\", \"bullet_shoot_event\", \"player_camera_walk_anim\", \"player_camera_suppression_anim\", \"player_camera_explosion_anim\", \"player_low_health_anim\", \"player_camera_damage_anim\", \"viewmodel_casings\", \"viewmodel_fire_light\"[/gd].
[p]Качество частиц[/p] - Качество частиц, обычно являющееся ебанутой причиной overdraw на GPU, что ведёт к ещё более худшей производительности. О да, я знаю, я знаю о частицах, которые хреновы в производительности, и это исправляешь легко, удаляя их полностью. Влияет на значение [p]particle_quality[/p].
[p]Качество материалов[/p] - Настройка, которая переёбывает материалы хорошенько. Они же были PBR, верно? Со всем прекрасным дерьмецом? Так вот, это, по сути, снимает PBR и превращает их в материалы только с диффузом. Просто нахуй прекрасно. Это сокращает около 30-40% операций OpenGL. Спасает твой GPU. Влияет на значение [p]material_quality[/p].
[p]Качество пост-обработки[/p] - Снимает пост-обработочные эффекты, используя их вручную-написанную низкокачественную дерьмовую версию. Сохраняет некоторую обработку шейдеров, но для какой причины? Разве твоему iGPU не нравится чтение уже существующего мипмапа с размытыми вариациями экрана? О, хотя, да, не нравится. Влияет на значение [p]post_processing_quality[/p].
[p]Качество персонажей[/p] - Влияет на появление LOD версии [gd]HumanModel[/gd], если таковая существует для модели. На низком показывает LOD вариацию всё время. Влияет на значение [p]character_quality[/p].
[p]Количество пропсов[/p] - Срезает всё красивое дерьмецо с локаций в виде любых локационных мешей ([gd]LocationProp, LocationBlockoutMesh, LocationMeshCombiner[/gd]), чтобы твоё железо работало быстрее. Поведение таких мешей вручую настроено. Это не только о визуальных штуках, это так помогает срезать физику тоже. Это жестоко? [r]Да.[/r] Это работает? [c]Ох ещё как да.[/c] Влияет на значение [p]props_amount[/p].
[p]Качество воды[/p] - Меняет качество шейдера воды. Влияет на значение [p]water_quality[/p].
[p]Качество рук вьюмодели[/p] - Меняет качество рук вьюмодели, если таковые существуют для текущего набора рук вьюмодели. Влияет на значение [p]viewmodel_hands_quality[/p].
[p]Качество декалей[/p] - Меняет качество вновь создаваемых декалей (кровь, попадания пуль и т.д.). На высоком использует спроецированные декали (что может быть дорого), на среднем создаёт простой квад (быстро, неточно), на низком не создаёт ничего (очень быстро и блять разочаровывающе). Влияет на значение [p]decal_quality[/p].
[p]Качество освещения[/p] - Меняет качество освещения. Обычно влияет на количество источников света, их дистанцию рендеринга и т.д. Влияет на значение [p]lighting_quality[/p].
[p]Качество физики[/p] - Меняет качество физики. Это не это меняет что-то сильно. В основном это используется, чтобы сделать обнаружение поверхностей статических тел (что требует отдельного набора узлов [gd]StaticBody[/gd]) менее точным (заменяя их просто одним узлом generic-типа). Влияет на значение [p]physics_quality[/p].
[p]Количество обломков[/p] - Меняет общее количество обломков. Обломки типо влияют, когда дело доходит до физики, так что их количество дано для контроля. Возможно выйти за лимит и зажарить свой ПК, если ты *реально* хочешь. Влияет на значение [p]debris_amount[/p].
[p]Количество NPC[/p] - Контролирует количество NPC на локации. Каждый спавн NPC вручную настроен. На \"низком\" это просто отключает спавн NPC спавнов, которые должны спавниться только на настройках \"высоко\". Помогает сильно оптимизировать использование CPU, потому что NPC - это неоптимизированные куски дерьма, которые я люблю использовать в огромных количествах вне зависимости от этого. Влияет на значение [p]NPC_amount[/p].

[bc]Панель: Настройки - Игра[/bc]
//img:game_menu/settings_game0.png
Настройки игры ранее имели огромную кучу игровых настроек для контроля интенсивности использования CPU/GPU. Теперь многие из этих настроек были перемещены в настройку [p]Общая детализация[/p], чтобы не захламлять пространство там, оставаясь более доступными, особенно учитывая тот факт, что многие из этих настроек визуальные/висцеральные по своей природе (связанные с анимацией, сглаживанием и т.д.).
[p]Игра[/p] - Бесполезная настройка, которая была добавлена как шутка от Elenakrittik. Я имею в виду. Ты можешь отключить *всё*, чтобы эта игра работала на твоей картошке. Это похоже на отключение игры для себя. [r]Веселье не включено.[/r]
[p]Мгновенное использование[/p] - Мгновенное использование. Да да да. Именно. Хорошо, если взять это немного серьёзнее... Эта настройка работает вместе с анимациями левой руки. Если есть анимации левой руки, используемые объекты не используются мгновенно, а после таймера 0.2 секунды, ожидая, пока анимация дойдёт до состояния, когда скрытие оружия не будет выглядеть плохо. Это может сделать игру чуть менее отзывчивой и стать причиной для кого-то настроить её на отключение. О да, иногда я могу думать о других, удивительно. Влияет на значение [p]instant_usage[/p].
[p]Заметки в игровом меню[/p] - Заметки Bender, но в игровом меню. Отключено по умолчанию, потому что я не позволю ему завоевать мою собственную игру :) Влияет на значение [p]game_menu_note[/p].
[p]Заметки загрузки[/p] - Заметки Bender во время экрана загрузки локации. Включено по умолчанию, потому что заметки на экране загрузки - это святое. Влияет на значение [p]loading_note[/p].
[p]Рэгдолл - Время до исчезновения[/p] - Регулирует время удаления рэгдоллов. Влияет на значение [p]ragdoll_disappear_time[/p].
[p]Рэгдолл - Лимит количества[/p] - Регулирует максимальное количество сосуществующих рэгдоллов. Влияет на значение [p]ragdoll_limit[/p].
[p]Время удаления выброшенного оружия[/p] - Время удаления всего того выброшенного оружия мёртвых NPC. Имей в виду, оружие, выброшенное самим игроком, длится вечно. Влияет на значение [p]dropped_weapon_removal_time[/p].
[p]Рэгдолл - Сохранять уникальные[/p] - Вместо повторного использования рэгдолла NPC для оптимизации, эта настройка позволяет включить ультимативный режим \"let the bodies hit the floor\", где экземпляры рэгдоллов уникальны. Имей в виду, эта настройка не оптимизирована и... Мне плевать. Просто возьми это. Влияет на значение [p]keep_ragdolls[/p].
[p]Игрок - Ноги[/p] - Позволяет тебе отрезать свои собственные ноги :) Влияет на значение [p]player_legs[/p].
[p]Игрок - Покачивание камеры[/p] - Позволяет тебе не испытывать морскую болезнь. Влияет на значение [p]player_viewbobbing[/p].
[p]Прицел - Видимость[/p] - Включает/выключает видимость всего прицела. Я не уверен, как ты будешь играть в эту игру, но давай предположим, что ты любишь хардкорные шутеры, по какой-то причине. Влияет на значение [p]crosshair_visible[/p].
[p]Прицел - Маркер попадания[/p] - Включает/выключает маркер попадания прицела, который появляется, когда ты наносишь урон чему-либо. Влияет на [p]crosshair_hit_marker[/p].
[p]Прицел - Маркер смерти[/p] - Включает/выключает маркер смерти прицела, который появляется, когда ты убиваешь персонажа. Влияет на [p]crosshair_death_marker[/p].
[p]Прицел - Звук попадания[/p] - Включает/выключает звук попадания, который играет, когда ты наносишь урон буквально чему угодно. Он отключён по умолчанию, потому что он беспокоил меня, но кто-то другой нашёл это приятным иметь так что... Нахуй это, вот эта настройка, которая влияет на значение [p]crosshair_hit_sound[/p].
[p]Прицел - Звук смерти[/p] - Включает/выключает звук смерти, когда ты убиваешь кого-то, очень басовый звук попадания. Влияет на значение [p]crosshair_death_sound[/p].
[p]Прицел - Данные здоровья[/p] - Включает/выключает HUD информации о здоровье, который был добавлен, потому что урон не ощущался как урон, я не знаю, просто возьми это. Он включён по умолчанию, потому что это круто. Ты можешь отключить его, если чувствуешь, что это слишком для твоей накачанной задницы. Влияет на значение [p]crosshair_health_data[/p].

[bc]Панель: Настройки - Ввод[/bc]
//img:game_menu/settings_input0.png
Панель с вводом. Я имею в виду... Да, это всё само по себе объясняет, не так ли? Просто чувствительность мыши, куча чекбоксов, добавленных для лулзов, кнопка сброса и куча кнопок.
[p]Чувствительность мыши[/p] - Ползунок, который просто меняет значение [p]mouse_sensitivity[/p].
[p]Переключаемый присед[/p] - Настройка, которая делает возможным нажать кнопку приседания однажды, чтобы присесть, пока ты не нажмёшь её опять. Переключает значение [p]toggle_crouch[/p].
[p]Переключаемый спринт[/p] - Настройка, чтобы нажать кнопку спринта однажды, чтобы спринтовать, пока ты не нажмёшь её опять. Переключает значение [p]toggle_sprint[/p].
[p]Переключаемое прицеливание[/p] - Нажать кнопку прицеливания once, чтобы прицеливаться, пока ты не нажмёшь её опять. Переключает значение [p]toggle_aim[/p].
[p]Инвертировать мышь по X[/p] - Инвертирует горизонтальный взгляд мыши. Переключает значение [p]invert_mouse_x[/p].
[p]Инвертировать мышь по Y[/p] - Инвертирует вертикальный взгляд мыши. Переключает значение [p]invert_mouse_y[/p].
[p]Сброс[/p] - Кнопка сброса, которая показывает окно подтверждения, чтобы потом вызвать метод [gd]reset_input_accept[/gd].
[p]Назначение клавиш[/p] - Этот интересен... Этот заслуживает целого чёртова раздела :)

[bc]Назначение клавиш[/bc]
//img:game_menu/settings_keybinds0.png
Назначения клавиш инициализируются в [gd]initialize_settings[/gd]. Да. Где-то на строке... 1983? Так или иначе, просто ищи комментарий [gd]# INPUT REMAPPING[/gd], и ты будешь в норме. Да, это огромная функция. Да, я мог бы просто разделить её на smaller функции, чтобы я не fucked с твоим разумом сейчас. Да, мне плевать, и это никогда не будет отредактировано мной. Просто используй чёртов [Ctrl + F], god dammit.
//img:game_menu/settings_keybinds1.png
Если ты хочешь добавить новое назначение клавиш, ты просто редактируешь скрипт и добавляешь своё новое красивенькое назначение клавиш в словарь [gd]inputs[/gd]. Я знаю. Очень расширяемый дизайн. Не хнычь об этом. [gd]\"console_toggle\" : \"Developer Console\"[/gd] - ключ это имя входного действия, значение это отображаемое имя, которое ты можешь видеть в меню. Просто.

[bc]Панель: Настройки - Звук[/bc]
//img:game_menu/settings_sound0.png
Настройки звука. Ты знаешь, что это means.
[p]Сброс[/p] - Показывает окно подтверждения, которое потом вызывает [gd]reset_sound_accept[/gd]
[p]Общая громкость[/p] - Главный канал, общая громкость игры. Редактирует значение [p]master_volume[/p].
[p]Музыка[/p] - Музыкальный канал, громкость музыки. Редактирует значение [p]music_volume[/p].
[p]Музыка - Бой[/p] - Музыкальный канал, но для \"боевой\" музыки. Редактирует значение [p]music_battle_volume[/p].
[p]Окружение[/p] - Канал окружения, звуковые ландшафты, выстрелы и т.д. Редактирует значение [p]env_volume[/p].
[p]Голосовые линии[/p] - Голосовые линии и голосовые сообщения. Редактирует значение [p]voiceline_volume[/p].

[bc]Панель: Настройки - Язык[/bc]
//img:game_menu/settings_language0_button.png
//img:game_menu/settings_language0.png
Да так... Была кнопка для меню языка в узле \"items\", но затем Bender начал жаловаться на количество этих кнопок там, так что мне пришлось переместить её в настройки. Звучит круто, верно? Тебе точно нужно было знать об этом. Я знаю, что да. Так или иначе, список этих языков заполняется автоматически проверкой списка файлов тех .json файлов в папке [p]localization[/p]. Одна вещь, которую тебе нужно знать, это то, что [p]__original_text.json[/p] указан как \"Runglish\", а [p]EnglishFix.json[/p] указан как [p]English[/p] в меню. Otherwise языки указаны как их оригинальные имена .json файлов.

Я ненавижу, как долго мне потребовалось, чтобы охватить все настройки :(

[bc]Достижения[/bc]
//img:game_menu/achievements0.png
Меню достижений типо просто. Инициализация происходит в [gd]initialize_achievements_tab[/gd], изменения вкладок обрабатываются в [gd]achievement_on_tab_change[/gd]. Оно перечисляет все достижения, however, \"секретные\" достижения инициализируются только когда они разблокированы. О, да, каждый раз, когда ты нажимаешь кнопку вкладки [p]Достижения[/p], оно будет обновлять показ обновлённого меню. Так что... Если у тебя было это меню открытым и ты получил достижение разблокированным только after that, это меню не обновится само. Я имею в виду, да, это можно исправить. Я имею в виду, да, мне also плевать.

[bc]OST[/bc]
//img:game_menu/OST0.png
Меню OST. Может быть немного избыточным для этой игры, учитывая тот факт, что у неё нет революционного саундтрека, который каждый хотел бы слушать вместо того, что бы играть в эту игру. Но знаешь что? Мне не важно, потому что было весело работать над этим. Оно использует кучу методов: [gd]on_OST_position_changed, on_OST_volume_changed, on_OST_finished, OST_play, OST_pause, OST_stop, update_OST_panel, get_OST_time_text, play_OST[/gd]. [p]res://modules/game_menu/assets/OST/[/p] содержит все саундтреки в .mp3 формате. Вся инициализация происходит в функции [gd]update_OST_panel[/gd]. Есть одна вещь, которую нужно охватить, though...
[gd]
.
├── 0_1_1_files.mp3
├── 0_1_1_files.mp3.import
├── 0_1_2_ReaadyGodySte.mp3
├── 0_1_2_ReaadyGodySte.mp3.import
├── 0_1_loading_v2.mp3
├── 0_1_loading_v2.mp3.import
├── 0_2_dead_or_alive.mp3
├── 0_2_dead_or_alive.mp3.import
├── 0_eternal_conflict.mp3
├── 0_eternal_conflict.mp3.import
├── 10_collapse.mp3
├── 10_collapse.mp3.import
├── 11_moments_to_death.mp3
├── 11_moments_to_death.mp3.import
├── 1_1_tutorial.mp3
├── 1_1_tutorial.mp3.import
├── 12_blood_loss.mp3
├── 12_blood_loss.mp3.import
├── 13_mall_nightmare.mp3
├── 13_mall_nightmare.mp3.import
├── 14_empty_halls.mp3
├── 14_empty_halls.mp3.import
├── 1_first_iteration.mp3
├── 1_first_iteration.mp3.import
├── 2_1_no_choice.mp3
├── 2_1_no_choice.mp3.import
├── 2_2_encrypted_session.mp3
├── 2_2_encrypted_session.mp3.import
├── 2_questionable_choices.mp3
├── 2_questionable_choices.mp3.import
├── 3_waiting.mp3
├── 3_waiting.mp3.import
├── 4_omega_security_presentation.mp3
├── 4_omega_security_presentation.mp3.import
├── 5_corporate_terrorism.mp3
├── 5_corporate_terrorism.mp3.import
├── 6_senseless_murder.mp3
├── 6_senseless_murder.mp3.import
├── 7_constant_alarm.mp3
├── 7_constant_alarm.mp3.import
├── 8_1_mad_mode.mp3
├── 8_1_mad_mode.mp3.import
├── 8_2_HCS-S_mode.mp3
├── 8_2_HCS-S_mode.mp3.import
├── 8_first_contact.mp3
├── 8_first_contact.mp3.import
├── 9_get_inn_arena.mp3
└── 9_get_inn_arena.mp3.import
[/gd]
Ты можешь заметить those странные номера в начале имён файлов. Я использую это как странный способ сортировки позиционирования в плейлисте. Я знаю, это странно, но это работает. Имей в виду, что those номера игнорируются полностью и имя файла используется для отображаемого именования в меню. Ой, подожди, почему [p]1_[/p] идёт после [p]10_[/p]?...

[bc]Титры[/bc]
//img:game_menu/credits0.png
Титры. Просто простой [gd]RichTextLabel[/gd] с кучей эффектов и всего. У него нет инициализации в коде, и единственный код, написанный для этой штуки, это просто о переключении вкладок.

[bc]Новая игра[/bc]
//img:game_menu/new_game0.png
Начать новую игру да да да. Хорошо. Это может быть не так легко объяснить, потому что эта штука типо сломана. Во-первых, если тебе интересно, как работает выбор сложности... Это достаточно просто.

//img:game_menu/new_game_nodes0.png
//img:game_menu/new_game_nodes1.png
Та-да, теперь ты можешь соединить точки между 2 + 2 и добавить свою собственную сложность :)
Хорошо, тебе нужно будет отредактировать некоторые другие скрипты, чтобы сделать это, но... Как уж оно есть. Это не тема этой страницы документации, так что я не буду освещать это здесь, особенно потому что я сомневаюсь, что этой игре понадобятся какие-либо другие сложности, кроме тех, которые у неё есть сейчас.

Когда ты начинаешь новую игру - тебя перенаправляют на функциональную локацию, которая [p]func_new_game[/p]. Когда ты входишь в эту локацию, запускается скрипт логики, расположенный в [p]res://locations/scenes/logic/func_main_menu.gd[/p], и затем новая игра начинается basically. По сути сломанное современное решение для древней проблемы.

Я надеюсь, тебе было весело читать об этом игровом меню."
edit_time = 1.76113e+09
