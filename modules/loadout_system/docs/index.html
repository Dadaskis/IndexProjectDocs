<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Index Project - loadout_system
		</title>
		<link rel="preload" as="image" href="../../../assets/images/docs_background.png">
		<link rel="stylesheet" type="text/css" href="../../../assets/style.css">
	</head>
	<body>
		<div class="scanlines">
		</div>
		<script src="../../../assets/sidebar_injector_module.js">
		</script>
		<center>
			<div class="everything">
				<div class="sidebar">
					<h1>
						Index Project Guide
					</h1>
					<br/>
					<br/>
					<input type="text" class="searchbar" placeholder="Search...">
						<div class="sidebar-content" id="sidebar-content">
						</div>
					</div>
					<div class="main_body">
						<h3>
							Module: loadout_system
						</h3>
						<p class="red-marking">
							Documentation last edited: October 23, 2025 at 14:33 UTC
						</p>
						<div class="lang-select-div">
							<a href="./index.html">
								ENG
							</a>
							<a href="./index_rus.html">
								RUS
							</a>
						</div>
						<h4>
							Description
						</h4>
						<p>
							So, in the very old days, there weren't any menus for loadout. You had to pick the weapons all by yourself in a specific location where you just use the props to select your equipment. That's it. Did it work? It did. However, after testing build 4, after playing it a couple of times, I realized that... it's boring. No, seriously, it's boring to have a very limited set of weapons, a very limited set of armor, and, of course, no possibility to choose perks except for the special devices. That's when it was decided to make a menu for loadout instead. Why would you need to know about that? Well, if you'd take a look into code, you may notice some GARBAGE out there. Don't touch that garbage and just know what it does there.<br>
							<br>
							<img src="../../../assets/images/loadout_system/example0.png" width="400px" onclick="maximizeImage(this)" class="clickable-image">
								<br>
								<br>
							</p>
							<h4 style="width: 60%">
								General Technical Info
							</h4>
							<p>
								<br>
								- <code class="gdscript">
									"res://modules/loadout_system/assets/ui_scene/loadout_ui.tscn"
								</code>
								is the scene that has the UI. Less likely you'd need to work with that, but, hey, you need to know just in case.<br>
								- <code class="gdscript">
									LoadoutSelection
								</code>
								node is the one that is opening up the fancy loadout UI.<br>
								- <code class="gdscript">
									LoadoutSystem
								</code>
								is the singleton that handles all the logic.<br>
								- <code class="gdscript">
									LoadoutSystem
								</code>
								is using <code class="gdscript">
									Globals
								</code>
								to store the data. It doesn't use the local variables and <code class="gdscript">
									Checkpoints
								</code>
								saving as much because it didn't have a proper saving system by the time when it was made.<br>
								<br>
								Simple, isn't it?<br>
								<br>
							</p>
							<h4 style="width: 60%">
								How do you add an item?
							</h4>
							<p>
								<br>
								- Locate <code class="gdscript">
									"res://modules/loadout_system/assets/items/"
								</code>
								<br>
								- Decide what you want to add. Each folder is a separate category that is processed separately.<br>
								- Create an appropriate <code class="gdscript">
									Resource
								</code>
								-derived file.<br>
								&emsp;- <code class="gdscript">
									LoadoutPerkItem
								</code>
								for perks.<br>
								&emsp;- <code class="gdscript">
									LoadoutOperationItem
								</code>
								for "operations" (forget about it, it's outdated)<br>
								&emsp;- <code class="gdscript">
									LoadoutWeaponItem
								</code>
								for weapons.<br>
								&emsp;- <code class="gdscript">
									LoadoutSpecialDeviceItem
								</code>
								for special devices.<br>
								&emsp;- <code class="gdscript">
									LoadoutArmorItem
								</code>
								for armor parts.<br>
								- <code class="red-marking">
									[For weapons]
								</code>
								Make an icon with <code class="gdscript">
									"loadout_iconmaker"
								</code>
								location.<br>
								- <code class="red-marking">
									[For everything else]
								</code>
								Follow the procedure for an icon:<br>
								&emsp;- Get an image you want to work with.<br>
								&emsp;- Pick an image editor of your choice.<br>
								&emsp;- Open the image.<br>
								&emsp;- Desaturate to black/white image.<br>
								&emsp;- Tweak brightness/contrast (both brightness and contrast are high).<br>
								&emsp;- Add sharpen.<br>
								&emsp;- Cut out for transparency.<br>
								&emsp;- Save at:<br>
								&emsp;&emsp;- <code class="gdscript">
									"res://modules/loadout_system/assets/ui_images/big_
									[NAME]
									.png"
								</code>
								for a big icon image.<br>
								&emsp;&emsp;- <code class="gdscript">
									"res://modules/loadout_system/assets/ui_images/small_
									[NAME]
									.png"
								</code>
								for a small icon image.<br>
								&emsp;- Configure both <code class="gdscript">
									"image_icon"
								</code>
								and <code class="gdscript">
									"image_icon_small"
								</code>
								properties in your <code class="gdscript">
									LoadoutItemDataBase
								</code>
								-derived file.<br>
								<br>
							</p>
							<h4 style="width: 60%">
								Code example
							</h4>
							<p>
								<br>
							</p>
							<center>
								<code class="gdscript">
									<br>
									# Set primary weapon<br>
									LoadoutSystem.set_primary_weapon("AR-100")<br>
									# Get primary weapon<br>
									var primary_weapon = LoadoutSystem.get_primary_weapon()<br>
									# There's also...<br>
									# get/set_secondary_weapon<br>
									# get/set_melee_weapon<br>
									# get/set_grenade_weapon<br>
									# get/set_usable_item<br>
									# get/set_special_device<br>
									<br>
									# Apply an armor part<br>
									var item = load("res://modules/loadout_system/assets/items/armor/body/body_armor_lvl1.tres")<br>
									LoadoutSystem.set_armor_part(item.armor_type, item.get_armor_data_dict())<br>
									<br>
									# Apply perks<br>
									var perks =
									[<br>
									&emsp;load("res://modules/loadout_system/assets/items/perks/complex/perk_maniac.tres"),<br>
									&emsp;load("res://modules/loadout_system/assets/items/perks/behavior/perk_2_fast.tres")<br>
									]
									<br>
									LoadoutSystem.set_perks_list(perks)<br>
									<br>
									# Give loadout to the player<br>
									var player = PlayerData.player<br>
									LoadoutSystem.refill_supplies()<br>
									var loadout = LoadoutSystem.LoadoutMask.new()<br>
									loadout.give_first = true<br>
									loadout.give_second = true<br>
									loadout.give_melee = true<br>
									loadout.give_item = true<br>
									loadout.give_grenade = true<br>
									loadout.give_special_device = false<br>
									loadout.give_armor = true<br>
									loadout.activate_perks = true<br>
									LoadoutSystem.give_loadout_to_player(loadout)<br>
									player.initialize_perk_related_things()<br>
									player.nv_enabled = false<br>
									player.flashlight_enabled = false<br>
									LoadoutSystem.reset_refill_supplies()<br>
								</code>
							</center>
							<p>
								<br>
								<br>
								If you wonder about the mystery modes, you can check them at <code class="gdscript">
									"res://modules/loadout_system/src/logic/perk_mystery.gd"
								</code>
								<br>
								<br>
								Have fun.
							</p>
							<h3>
								General Information
							</h3>
							<h4>
								Root directories list
							</h4>
							<p>
								assets, docs, src
							</p>
							<h4>
								Nodes
							</h4>
							<p>
								<a class="a_simple" href="./scripts/icon_gen_control.html">
									icon_gen_control
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_selection.html">
									LoadoutSelection
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_system.html">
									LoadoutSystem
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_presentation.html">
									LoadoutPresentation
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_presentation_page.html">
									loadout_presentation_page
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_presentation_shared.html">
									loadout_presentation_shared
								</a>
								<br>
								<a class="a_simple" href="./scripts/item.html">
									item
								</a>
								<br>
								<a class="a_simple" href="./scripts/main_control.html">
									main_control
								</a>
							</p>
							<h4>
								Classes
							</h4>
							<p>
								<a class="a_simple" href="./scripts/loadout_logic_base.html">
									LoadoutLogicBase
								</a>
								<br>
								<a class="a_simple" href="./scripts/op_factory.html">
									op_factory
								</a>
								<br>
								<a class="a_simple" href="./scripts/perk_engineer.html">
									perk_engineer
								</a>
								<br>
								<a class="a_simple" href="./scripts/perk_hitman.html">
									perk_hitman
								</a>
								<br>
								<a class="a_simple" href="./scripts/perk_mystery.html">
									perk_mystery
								</a>
							</p>
							<h4>
								Resources
							</h4>
							<p>
								<a class="a_simple" href="./scripts/loadout_armor_item.html">
									LoadoutArmorItem
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_item_data_base.html">
									LoadoutItemDataBase
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_operation_item.html">
									LoadoutOperationItem
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_perk_item.html">
									LoadoutPerkItem
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_special_device_item.html">
									LoadoutSpecialDeviceItem
								</a>
								<br>
								<a class="a_simple" href="./scripts/loadout_weapon_item.html">
									LoadoutWeaponItem
								</a>
							</p>
							<h4>
								Other Scripts
							</h4>
							<p>
								<a class="a_simple" href="./scripts/icon_gen.html">
									icon_gen
								</a>
							</p>
						</div>
					</div>
				</center>
				<script src="../../../assets/code_blocks.js">
				</script>
			</body>
		</html>
