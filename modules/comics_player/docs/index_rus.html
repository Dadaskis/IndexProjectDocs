<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Index Project - comics_player
		</title>
		<link rel="preload" as="image" href="../../../_guide/.images/_docs_background.png">
		<link rel="stylesheet" type="text/css" href="../../../_guide/style.css">
	</head>
	<body>
		<div class="scanlines">
		</div>
		<script src="../../../_guide/sidebar_injector_module.js">
		</script>
		<center>
			<div class="everything">
				<div class="sidebar">
					<h1>
						Index Project Guide
					</h1>
					<br/>
					<br/>
					<input type="text" class="searchbar" placeholder="Search...">
						<div class="sidebar-content" id="sidebar-content">
						</div>
					</div>
					<div class="main_body">
						<h3>
							Module: comics_player
						</h3>
						<p class="red-marking">
							Documentation last edited: October 22, 2025 at 10:46 UTC
						</p>
						<div class="lang-select-div">
							<a href="./index.html">
								ENG
							</a>
							<a href="./index_rus.html">
								RUS
							</a>
						</div>
						<h4>
							Description
						</h4>
						<p>
							<img src="../../../_guide/.images/comics_editor/game0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
								<br>
								<img src="../../../_guide/.images/comics_editor/editor0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
									<br>
									<br>
									Плеер комиксов, который поставляется вместе с редактором в локации <code class="gdscript">
										"comics_editor"
									</code>
									. Это простой плеер "комиксов", который показывает изображения, текст, рамки, текстовые пузыри, глитч-эффекты и т.д. Изображения, используемые в комиксах, возможно рендерятся в <code class="gdscript">
										"comics_renderer"
									</code>
									и могут иметь незначительные регулировки в любом графическом редакторе.<br>
									<br>
									<code>
										Пример использования
									</code>
									<br>
									<code class="gdscript">
										<br>
										ComicsPlayer.play_comics_by_name("test0")<br>
									</code>
									<br>
									<br>
									<code>
										Имей в виду
									</code>
									<br>
									<code class="gdscript">
										ComicsPlayer
									</code>
									не обрабатывает логику управления курсором. Поэтому тебе вероятнее всего будет интересно использовать следующую настройку:<br>
									<code class="gdscript">
										<br>
										CursorControl.show("comics_player")<br>
										ComicsPlayer.play_comics_by_name("test0")<br>
										yield(ComicsPlayer, "finished")<br>
										CursorControl.deactivate("comics_player")<br>
									</code>
									<br>
									<br>
								</p>
								<h2>
									Техническая сторона
								</h2>
								<p>
									<br>
									<br>
									<code>
										Иерархия скриптов
									</code>
									<br>
									<code class="gdscript">
										<br>
										Основные данные<br>
										├── comics_data.gd (Корень)<br>
										│&emsp;└── comics_page_data.gd (Страницы)<br>
										│&emsp;&emsp;└── comics_picture_data.gd (Панели)<br>
										│&emsp;&emsp;&emsp;└── comics_text_box_data.gd (Текст/Аудио)<br>
										│<br>
										Система редактора<br>
										├── comics_editor.gd (Главный UI)<br>
										├── editor_comic_control.gd (Рендеринг)<br>
										├── editor_relay.gd (Данные ↔ UI)<br>
										└── text_box_transform_button.gd (Инструменты редактирования)<br>
										│<br>
										Система плеера<br>
										├── comics_player.gd (Движок воспроизведения)<br>
										└── comics_player_test.gd (Тестовый скрипт)<br>
									</code>
									<br>
									<br>
									<code>
										Основные данные
									</code>
									<br>
									Это данные комиксов. Корень содержит данные о нескольких страницах, страницы содержат данные о шаблоне и его панелях, данные панели содержат информацию о изображениях и текстовых блоках. Достаточно просто, но это вложено ради расширяемости.<br>
									<code class="gdscript">
										<br>
										Основные данные<br>
										├── comics_data.gd (Корень)<br>
										│&emsp;# Массив страниц<br>
										│&emsp;└── comics_page_data.gd (Страницы)<br>
										│&emsp;&emsp;# Данные страницы, в данном случае, содержат информацию о шаблоне и затем массив изображений, заполняющих этот шаблон<br>
										│&emsp;&emsp;└── comics_picture_data.gd (Панели)<br>
										│&emsp;&emsp;&emsp;# Данные изображения, которые имеют данные картинки, а также массив текстовых блоков, привязанных к этой панели<br>
										│&emsp;&emsp;&emsp;└── comics_text_box_data.gd (Текст/Аудио)<br>
										│&emsp;&emsp;&emsp;&emsp;# Данные текстового блока, содержат информацию о тексте, настройки печатной машинки, конфигурацию голоса/аудио, а также<br>
										│&emsp;&emsp;&emsp;&emsp;# условия "продолжения" к следующему текстовому блоку. Все текстовые блоки воспроизводятся один<br>
										│&emsp;&emsp;&emsp;&emsp;# за другим<br>
									</code>
									<br>
									<br>
									<code>
										Система редактора
									</code>
									<br>
									Редактор *пытается* следовать принципу <code class="gdscript">
										"What You See Is What You Get"
									</code>
									, однако он не позволяет видеть все эффекты поверх без полного воспроизведения комикса. Тем не менее, он позволяет быстро настроить все данные комикса и увидеть, как это выглядит. Основные ключевые особенности системы редактора - это неразрушающие рабочие процессы (ты можешь вернуться когда угодно, и исходные файлы остаются нетронутыми) и возможность очень лёгкого предварительного просмотра всех изображений, аудио, позиционирования текстовых блоков, страниц, а также возможность предварительного воспроизведения комикса, чтобы увидеть, как он будет выглядеть в игре.<br>
									<code class="gdscript">
										<br>
										Система редактора<br>
										├── comics_editor.gd (Главный UI)<br>
										│&emsp;# Мозг редактора, или, по крайней мере, "визуальный" для конечного пользователя.<br>
										│&emsp;# - Управляет UI панелями, такими как список страниц, селектор изображений, настройки текстовых блоков<br>
										│&emsp;# - Обрабатывает сохранение/загрузку файлов комиксов, хранящихся в...<br>
										│&emsp;# res://modules/comics_player/assets/comics/<br>
										│&emsp;# - Координирует между инструментами редактирования и визуальным превью<br>
										├── editor_comic_control.gd (Рендеринг)<br>
										│&emsp;# Рендерер.<br>
										│&emsp;# - Берет данные из ComicsPageData и отображает их в реальном времени<br>
										│&emsp;# - Применяет шейдеры для границ панелей, эффекты изображений<br>
										│&emsp;# - Обрабатывает шаблоны (1_pic, 2_pic, 3_pic, 4_pic и т.д.)<br>
										├── editor_relay.gd (Данные ↔ UI)<br>
										│&emsp;# "Ретранслятор" между данными комикса и UI<br>
										│&emsp;# - Соединяет элементы управления UI (такие как текстовые поля) с фактическими данными комикса<br>
										│&emsp;# - Обновляет текстовые блоки, когда ты печатаешь, меняет стили, когда ты выбираешь один из вариантов, и т.д.<br>
										└── text_box_transform_button.gd (Инструменты редактирования)<br>
										│&emsp;# Позволяет тебе перемещать, вращать и масштабировать текстовые блоки<br>
									</code>
									<br>
									<br>
									<code>
										Система плеера
									</code>
									<br>
									Система плеера загружает файлы комиксов (.tres) и превращает их в "слайд-шоу" с анимациями, звуками и управлением "щёлкни-для-продолжения". Использует данные, экспортированные системой редактора, для показа игроку.<br>
									<code class="gdscript">
										<br>
										Система плеера<br>
										├── comics_player.gd (Движок воспроизведения)<br>
										│&emsp;# Сложный скрипт воспроизведения, который имеет следующий алгоритм:<br>
										│&emsp;# - Загрузка комикса<br>
										│&emsp;#&emsp;- Предзагружает изображения, шрифты, аудио, настраивает таймеры/анимации<br>
										│&emsp;# - Воспроизведение страницы<br>
										│&emsp;#&emsp;- Загружает сцену шаблона, размещает изображения там<br>
										│&emsp;#&emsp;- Анимирует элементы, fading панели, обрабатывает эффект печатной машинки, воспроизводит аудио<br>
										│&emsp;# - Ожидание ввода/таймера<br>
										│&emsp;#&emsp;- Автоматическое продолжение после задержки ИЛИ нажатие кнопки для продолжения<br>
										│&emsp;# - Переход к следующей странице, чтобы повторить всё снова или закончить комикс, если не осталось страниц для воспроизведения.<br>
										└── comics_player_test.gd (Тестовый скрипт)<br>
										│&emsp;# Маленький тестовый скрипт, сохранённый на всякий случай :)<br>
									</code>
									<br>
									<br>
								</p>
								<h2>
									Как использовать редактор комиксов
								</h2>
								<p>
									<br>
									Система проста... Но если ты так безнадёжен и должен прийти сюда, чтобы прочитать всё это... Ну, я полагаю, мне придётся стырить часть твоей оперативной памяти, чтобы показать тебе ~изображения~.<br>
									<br>
									Сначала ты просто переключаешься на локацию <code class="gdscript">
										"comics_editor"
									</code>
									с помощью <code>
										change_location comics_editor
									</code>
									в консоли или используя <code>
										dev_menu
									</code>
									<br>
									<img src="../../../_guide/.images/comics_editor/use0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
										<br>
										<img src="../../../_guide/.images/comics_editor/use1.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
											<br>
											Нажав "New Page", ты создаёшь новую страницу (вау, невероятно)<br>
											<img src="../../../_guide/.images/comics_editor/use2.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
												<br>
												Нажав на только что созданную страницу под названием "Page 0", ты будешь редактировать конфигурацию этой страницы (супер сложно, я знаю)<br>
												<img src="../../../_guide/.images/comics_editor/use3.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
													<br>
													Ты можешь изменить шаблон здесь<br>
													<img src="../../../_guide/.images/comics_editor/use4.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
														<br>
														Ты также можешь добавлять изображения, настраивать их позиционирование, имей в виду - только после добавления изображения ты можешь добавлять текстовые блоки, поскольку они привязаны directly к данному изображению.<br>
														<img src="../../../_guide/.images/comics_editor/use5.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
															<br>
															Когда ты закончил: Просто сохрани это, в первый раз это потребует от тебя установить имя для файла данных твоего комикса, но затем нажатие кнопки "Save" будет автоматически сохранять его в заданный файл.<br>
															<img src="../../../_guide/.images/comics_editor/use6.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																<br>
																Нажав кнопку "Play Comics" - ты сможешь предварительно просмотреть, как твой комикс будет воспроизводиться в игре. "Play Comics" воспроизводит все страницы. "Play Comics Page" воспроизводит только страницу, которую ты сейчас редактируешь.<br>
																<img src="../../../_guide/.images/comics_editor/use7.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
																	<br>
																	И я клянусь богом, если у тебя возникнут какие-либо вопросы относительно функциональности этого инструмента редактора даже ПОСЛЕ всех этих изображений...
																</p>
																<h3>
																	General Information
																</h3>
																<h4>
																	Root directories list
																</h4>
																<p>
																	assets, docs, src
																</p>
																<h4>
																	Nodes
																</h4>
																<p>
																	<a class="a_simple" href="./scripts/comics_player.html">
																		ComicsPlayer
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/comics_text_layer.html">
																		comics_text_layer
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/comics_player_test.html">
																		comics_player_test
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/text_box_transform_button.html">
																		text_box_transform_button
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/editor_comic_control.html">
																		editor_comic_control
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/comics_editor.html">
																		comics_editor
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/editor_relay.html">
																		editor_relay
																	</a>
																</p>
																<h4>
																	Classes
																</h4>
																<p>
																	None
																</p>
																<h4>
																	Resources
																</h4>
																<p>
																	<a class="a_simple" href="./scripts/comics_picture_data.html">
																		ComicsPictureData
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/comics_data.html">
																		ComicsData
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/comics_page_data.html">
																		ComicsPageData
																	</a>
																	<br>
																	<a class="a_simple" href="./scripts/comics_text_box_data.html">
																		ComicsTextBoxData
																	</a>
																</p>
																<h4>
																	Other Scripts
																</h4>
																<p>
																	None
																</p>
															</div>
														</div>
													</center>
													<script src="../../../_guide/code_blocks.js">
													</script>
												</body>
											</html>
