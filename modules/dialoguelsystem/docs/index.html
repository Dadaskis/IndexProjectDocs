<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Index Project - dialogue_system
		</title>
		<link rel="preload" as="image" href="../../../assets/images/_docs_background.png">
		<link rel="stylesheet" type="text/css" href="../../../assets/style.css">
	</head>
	<body>
		<div class="scanlines">
		</div>
		<script src="../../../assets/sidebar_injector_module.js">
		</script>
		<center>
			<div class="everything">
				<div class="sidebar">
					<h1>
						Index Project Guide
					</h1>
					<br/>
					<br/>
					<input type="text" class="searchbar" placeholder="Search...">
						<div class="sidebar-content" id="sidebar-content">
						</div>
					</div>
					<div class="main_body">
						<h3>
							Module: dialogue_system
						</h3>
						<p class="red-marking">
							Documentation last edited: October 22, 2025 at 10:46 UTC
						</p>
						<div class="lang-select-div">
							<a href="./index.html">
								ENG
							</a>
							<a href="./index_rus.html">
								RUS
							</a>
						</div>
						<h4>
							Description
						</h4>
						<p>
							Dialogue system for this game. Doesn't provide any kind of UI, but it does make it possible to create dialog graphs in <code class="gdscript">
								"res://modules/dialogue_system/assets/scenes/dialog_creator.tscn"
							</code>
							scene. You can also simply change location to <code class="gdscript">
								"dialog_editor"
							</code>
							and it will allow you to access it too.<br>
							<br>
						</p>
						<h2>
							Dialog Graph Editor
						</h2>
						<p>
							<br>
							<img src="../../../assets/images/dialogue_system/editor0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
								<br>
								<br>
								A simple graph editing interface to make dialogs. Interface is simple overall, and it was one of the first tools ever written for this game at the start of development, when i had not much clue on how to work with UI. Therefore it is missing some functionality AND is practicing eldritch fucking horror practices. But it works, so...<br>
								<br>
								<code>
									Loading existing files
								</code>
								<br>
								Firstly - to load an existing dialog file that have been saved one day, you need a name of that damn dialog file. You can find all saved dialog files here: <code class="gdscript">
									"res://modules/dialogue_system/assets/dialogs/"
								</code>
								<br>
								<img src="../../../assets/images/dialogue_system/files0.jpg" width="400px" onclick="maximizeImage(this)" class="clickable-image">
									<br>
									<br>
									In a text field above "Load" button you simply enter the name and press "Load". When you are done editing - press "Save".<br>
									<br>
									<code>
										Nodes order
									</code>
									<br>
									While you can potentially just connect anything with everything as you wish, it may not work correctly, so keep in mind, there's following pattern:<br>
									<code class="red-marking">
										<br>
										&emsp;Start ->
										Answer<br>
										&emsp;Answer ->
										Choice<br>
										&emsp;Choice ->
										Option -- or -- Multiple Options<br>
										&emsp;Option ->
										Answer<br>
										&emsp;Option ->
										Ending<br>
									</code>
									<br>
									<br>
									Nodes can be used for cyclic connections, aka you can ask a question and go back to a "Choice" node that provided you that option.<br>
									<br>
									<code>
										Nodes purpose
									</code>
									<br>
									Start&emsp;&emsp;&emsp;-&emsp;&emsp;The starting point in a dialog graph. Connects to Answer to start a conversation<br>
									Answer&emsp;&emsp;- &emsp;&emsp;Answer of other person in dialog, not player. Connects to Choice to provide player options.<br>
									Choice&emsp;&emsp;-&emsp;&emsp;A relay-like node that connects multiple Options.<br>
									Option&emsp;&emsp;-&emsp;&emsp;Player's response that either leads to an Answer or Ending<br>
									Ending&emsp;&emsp;-&emsp;&emsp;The dialog graph's ending! Emits an event that can be handled in a <code>
										Dialog Script
									</code>
									<br>
									<br>
									<code>
										Dialog Script
									</code>
									<br>
									Dialog scripts are special kind of scripts made to "react" to an ending of a dialog. All of them are stored in <code class="gdscript">
										"res://locations/scenes/dialog_logic/"
									</code>
									.<br>
									<code class="gdscript">
										<br>
										# Dialog logic template<br>
										extends DialogLogicBase<br>
										<br>
										func on_end(event_name):<br>
										&emsp;match event_name:<br>
										&emsp;&emsp;"ending0":<br>
										&emsp;&emsp;&emsp;# ...<br>
										&emsp;&emsp;"ending1":<br>
										&emsp;&emsp;&emsp;# ...<br>
									</code>
									<br>
									It's basically about running code that'd react to a specified ending. Ending name is entered in "Ending" node. Please be advised that <code>
										script's file name is must to be assigned to the dialog file's name to function properly.
									</code>
									If your dialog file is called <code class="gdscript">
										"m_day0_dialog"
									</code>
									, then file name of your script is going to be <code class="gdscript">
										"m_day0_dialog.gd"
									</code>
									. Also keep in mind that all dialog logic script are extending <code class="gdscript">
										DialogLogicBase
									</code>
									.
								</p>
								<h3>
									General Information
								</h3>
								<h4>
									Root directories list
								</h4>
								<p>
									assets, docs, src
								</p>
								<h4>
									Nodes
								</h4>
								<p>
									<a class="a_simple" href="./scripts/graph_edit_connections.html">
										graph_edit_connections
									</a>
									<br>
									<a class="a_simple" href="./scripts/dialog_creator.html">
										dialog_creator
									</a>
									<br>
									<a class="a_simple" href="./scripts/start_node.html">
										start_node
									</a>
									<br>
									<a class="a_simple" href="./scripts/option_node.html">
										option_node
									</a>
									<br>
									<a class="a_simple" href="./scripts/ending_node.html">
										ending_node
									</a>
									<br>
									<a class="a_simple" href="./scripts/answer_node.html">
										answer_node
									</a>
									<br>
									<a class="a_simple" href="./scripts/choice_node.html">
										choice_node
									</a>
								</p>
								<h4>
									Classes
								</h4>
								<p>
									None
								</p>
								<h4>
									Resources
								</h4>
								<p>
									<a class="a_simple" href="./scripts/dialog_tree.html">
										DialogTree
									</a>
									<br>
									<a class="a_simple" href="./scripts/option.html">
										DialogTreeOption
									</a>
									<br>
									<a class="a_simple" href="./scripts/answer.html">
										DialogTreeAnswer
									</a>
									<br>
									<a class="a_simple" href="./scripts/choice.html">
										DialogTreeChoice
									</a>
									<br>
									<a class="a_simple" href="./scripts/start.html">
										DialogTreeStart
									</a>
									<br>
									<a class="a_simple" href="./scripts/ending.html">
										DialogTreeEnding
									</a>
								</p>
								<h4>
									Other Scripts
								</h4>
								<p>
									None
								</p>
							</div>
						</div>
					</center>
					<script src="../../../assets/code_blocks.js">
					</script>
				</body>
			</html>
